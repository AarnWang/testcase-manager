{
  "test_cases": [
    {
      "id": "TC001",
      "title": "用户能够成功登录系统",
      "preconditions": [
        "系统处于可访问状态",
        "测试用户账户已存在且处于激活状态"
      ],
      "steps": [
        "打开登录页面",
        "输入有效的用户名和密码",
        "点击登录按钮"
      ],
      "expected_results": [
        "用户成功登录",
        "跳转至首页或仪表盘页面",
        "会话令牌被正确生成并存储于安全的HTTP-only cookie中"
      ],
      "priority": "P0",
      "category": "功能测试",
      "description": "验证正常登录流程的完整性，确保认证成功后用户能正确进入系统并建立安全会话"
    },
    {
      "id": "TC002",
      "title": "验证登录时无效凭据的错误处理",
      "preconditions": [
        "系统处于可访问状态",
        "测试用户账户存在但凭据不正确"
      ],
      "steps": [
        "打开登录页面",
        "输入错误的密码",
        "点击登录按钮"
      ],
      "expected_results": [
        "登录失败，系统提示‘用户名或密码错误’",
        "不跳转至任何内部页面",
        "登录尝试次数记录增加（如启用登录失败计数）"
      ],
      "priority": "P1",
      "category": "功能测试",
      "description": "验证系统对无效凭据的安全响应机制，防止暴力破解并提供明确反馈"
    },
    {
      "id": "TC003",
      "title": "验证系统在高并发下的登录性能",
      "preconditions": [
        "系统部署在性能测试环境",
        "性能测试工具（如JMeter）已配置完毕",
        "数据库连接池大小为50，最大线程数为200"
      ],
      "steps": [
        "使用JMeter模拟1000个并发用户同时发起登录请求",
        "持续运行测试5分钟",
        "监控系统响应时间、吞吐量和错误率"
      ],
      "expected_results": [
        "平均响应时间 ≤ 2秒",
        "吞吐量 ≥ 800请求/秒",
        "错误率 < 1%",
        "无数据库连接超时或拒绝连接现象"
      ],
      "priority": "P2",
      "category": "性能测试",
      "description": "评估系统在高负载下处理登录请求的能力，确保核心认证服务的稳定性与可扩展性"
    },
    {
      "id": "TC004",
      "title": "验证登录数据传输的安全性（TLS加密）",
      "preconditions": [
        "系统配置为强制使用TLS 1.2及以上版本",
        "抓包工具（如Wireshark）已安装并配置HTTPS解密密钥（SSLKEYLOGFILE）"
      ],
      "steps": [
        "启动Wireshark并设置过滤规则：tls && ip.dst == 系统登录接口IP",
        "执行一次正常登录操作",
        "捕获并分析网络流量"
      ],
      "expected_results": [
        "所有登录相关请求均通过HTTPS（端口443）传输",
        "请求体中的用户名和密码字段在抓包中显示为加密内容",
        "TLS握手成功，协商版本为TLS 1.2或更高"
      ],
      "priority": "P1",
      "category": "安全测试",
      "description": "确认用户凭据在传输过程中受到强加密保护，防止中间人攻击泄露敏感信息"
    },
    {
      "id": "TC005",
      "title": "验证登录失败多次后触发的账户锁定与邮件通知机制",
      "preconditions": [
        "系统配置为连续5次登录失败后锁定账户15分钟",
        "邮件服务器正常运行，日志可访问"
      ],
      "steps": [
        "使用有效用户名但错误密码连续尝试登录5次",
        "第6次尝试使用正确密码登录",
        "检查邮件服务器日志中是否有账户锁定通知发送记录"
      ],
      "expected_results": [
        "第5次失败后系统提示‘账户已被临时锁定’",
        "第6次登录即使凭据正确也拒绝访问",
        "邮件服务器日志显示已向用户注册邮箱发送账户锁定通知",
        "锁定期间无法登录，超时后自动解锁"
      ],
      "priority": "P1",
      "category": "功能测试",
      "description": "验证系统对暴力破解的防御机制，包括账户锁定策略和用户通知流程"
    },
    {
      "id": "TC006",
      "title": "验证会话超时机制在临界时间点的行为",
      "preconditions": [
        "系统会话超时设置为15分钟",
        "用户已成功登录"
      ],
      "steps": [
        "登录后保持静默14分钟",
        "执行任意页面操作（如刷新）",
        "继续等待至第16分钟，再次执行操作"
      ],
      "expected_results": [
        "第14分钟操作成功，页面正常响应",
        "第16分钟操作失败，系统重定向至登录页面",
        "原会话被销毁，需重新认证"
      ],
      "priority": "P2",
      "category": "功能测试",
      "description": "确保会话管理符合安全策略，在接近和超过超时阈值时行为正确"
    },
    {
      "id": "TC007",
      "title": "模拟服务中断后系统恢复能力与数据一致性检查",
      "preconditions": [
        "系统运行在可监控的测试环境中",
        "健康检查工具（如Prometheus + Grafana）已部署"
      ],
      "steps": [
        "通过kill -9命令终止应用主进程模拟断电",
        "等待30秒后重启服务",
        "使用健康检查工具监控服务恢复时间",
        "检查用户会话数据是否未残留或错乱"
      ],
      "expected_results": [
        "服务在2分钟内恢复正常响应",
        "健康检查探测显示服务状态由down转为up",
        "已登录用户的会话在服务中断后全部失效",
        "重启后数据库中无未清理的临时会话记录"
      ],
      "priority": "P2",
      "category": "可靠性测试",
      "description": "验证系统在意外中断后能否快速恢复，并保证会话状态一致性"
    },
    {
      "id": "TC008",
      "title": "验证上传文件大小限制的边界行为",
      "preconditions": [
        "系统允许上传最大10MB的文件",
        "准备三个测试文件：9.9MB、10.0MB、10.1MB"
      ],
      "steps": [
        "分别尝试上传9.9MB文件",
        "尝试上传10.0MB文件",
        "尝试上传10.1MB文件"
      ],
      "expected_results": [
        "9.9MB文件上传成功",
        "10.0MB文件上传成功（边界值允许）",
        "10.1MB文件上传失败，系统提示‘文件大小不能超过10MB’"
      ],
      "priority": "P2",
      "category": "功能测试",
      "description": "验证文件上传功能对大小限制的精确控制，确保边界值处理正确"
    },
    {
      "id": "TC009",
      "title": "验证核心功能在弱网环境下的可用性",
      "preconditions": [
        "使用网络模拟工具（如Clumsy或tc）配置弱网环境",
        "核心功能包括：登录、提交表单、查看仪表盘"
      ],
      "steps": [
        "设置网络延迟为1000ms，丢包率10%",
        "依次执行登录、提交一个标准业务表单、加载仪表盘操作",
        "记录每个操作是否完成及响应时间"
      ],
      "expected_results": [
        "所有核心功能最终成功完成",
        "登录响应时间 ≤ 5秒",
        "表单提交成功并返回确认信息",
        "仪表盘数据完整加载，无空白区块"
      ],
      "priority": "P2",
      "category": "性能测试",
      "description": "评估系统在恶劣网络条件下对关键业务流程的支持能力"
    },
    {
      "id": "TC010",
      "title": "验证数据库连接池在高并发下的稳定性",
      "preconditions": [
        "数据库连接池最大连接数设置为50",
        "性能测试工具已配置"
      ],
      "steps": [
        "使用JMeter发起60个并发用户登录请求",
        "持续运行3分钟",
        "监控数据库连接池使用情况"
      ],
      "expected_results": [
        "系统能处理并发请求，无连接超时",
        "连接池最大使用数达到50时，其余请求排队等待而非失败",
        "平均响应时间增长但系统保持可用",
        "无连接泄漏（连接使用后及时释放）"
      ],
      "priority": "P2",
      "category": "性能测试",
      "description": "验证系统在超过连接池容量时的容错与排队机制，防止雪崩效应"
    },
    {
      "id": "TC011",
      "title": "验证登录接口对超长用户名和密码的处理",
      "preconditions": [
        "系统数据库中用户名字段最大长度为255字符，密码哈希前最大支持128字符",
        "测试环境准备就绪"
      ],
      "steps": [
        "输入长度为254字符的有效用户名和127字符的密码，尝试登录",
        "输入长度为256字符的用户名，尝试登录",
        "输入长度为129字符的密码，尝试登录"
      ],
      "expected_results": [
        "254字符用户名和127字符密码登录成功",
        "256字符用户名被拒绝，提示‘用户名长度超出限制’",
        "129字符密码被拒绝，提示‘密码长度超出限制’"
      ],
      "priority": "P2",
      "category": "功能测试",
      "description": "确保系统对输入长度极限有正确校验，防止缓冲区溢出或数据库截断问题"
    },
    {
      "id": "TC012",
      "title": "验证登录时输入空用户名或空密码的处理",
      "preconditions": [
        "系统处于可访问状态"
      ],
      "steps": [
        "打开登录页面",
        "不输入用户名，仅输入密码，点击登录",
        "不输入密码，仅输入用户名，点击登录",
        "两者均为空，点击登录"
      ],
      "expected_results": [
        "任一字段为空时，登录失败",
        "系统提示‘请输入用户名’或‘请输入密码’",
        "不向后端发送认证请求（前端校验）或后端返回400错误（后端校验）"
      ],
      "priority": "P1",
      "category": "功能测试",
      "description": "验证系统对空输入的健壮性处理，提升用户体验并减少无效请求"
    },
    {
      "id": "TC013",
      "title": "验证登录时防御SQL注入和XSS攻击的能力",
      "preconditions": [
        "系统具备输入过滤或参数化查询机制"
      ],
      "steps": [
        "在用户名字段输入：admin' OR '1'='1",
        "在密码字段输入：<script>alert(1)</script>",
        "点击登录按钮"
      ],
      "expected_results": [
        "登录失败，系统不执行恶意语句",
        "输入内容被正确转义或拦截",
        "日志中记录潜在攻击行为（如有WAF或审计功能）",
        "页面不出现JavaScript执行或数据库错误信息泄露"
      ],
      "priority": "P1",
      "category": "安全测试",
      "description": "确保系统具备基本的安全防护能力，防止常见Web攻击"
    },
    {
      "id": "TC014",
      "title": "验证网络中断情况下登录请求的降级处理",
      "preconditions": [
        "用户正在提交登录请求",
        "网络连接可通过工具（如Clumsy）中断"
      ],
      "steps": [
        "在点击登录按钮后立即切断客户端网络",
        "等待10秒后恢复网络",
        "检查前端是否显示超时提示或重试机制"
      ],
      "expected_results": [
        "前端在合理时间内（如10秒）提示‘网络连接失败，请重试’",
        "不会显示部分加载或空白页面",
        "无敏感信息明文暴露在错误页面中"
      ],
      "priority": "P2",
      "category": "可靠性测试",
      "description": "确保系统在网络不稳定时仍能提供友好反馈，避免用户困惑"
    },
    {
      "id": "TC015",
      "title": "验证服务器500错误时的登录失败处理与用户提示",
      "preconditions": [
        "可通过Mock服务或临时关闭后端API模拟500错误"
      ],
      "steps": [
        "触发登录接口返回HTTP 500错误",
        "尝试执行正常登录流程"
      ],
      "expected_results": [
        "前端捕获500错误并显示‘系统繁忙，请稍后重试’",
        "不暴露堆栈信息或内部错误详情",
        "提供重试按钮或引导用户联系支持"
      ],
      "priority": "P2",
      "category": "可靠性测试",
      "description": "验证系统在服务端异常时的容错能力与用户沟通机制"
    },
    {
      "id": "TC016",
      "title": "验证数据库连接失败时登录流程的降级行为",
      "preconditions": [
        "可通过关闭数据库服务模拟连接失败"
      ],
      "steps": [
        "停止数据库服务",
        "尝试使用有效账户登录"
      ],
      "expected_results": [
        "登录失败，系统提示‘服务暂时不可用’",
        "错误信息不包含数据库连接细节",
        "系统记录错误日志，便于运维排查"
      ],
      "priority": "P2",
      "category": "可靠性测试",
      "description": "确保系统在依赖组件故障时仍能优雅降级，保护用户体验和系统安全"
    },
    {
      "id": "TC017",
      "title": "验证邮件发送失败时账户锁定通知的降级机制",
      "preconditions": [
        "系统配置为账户锁定时发送邮件",
        "SMTP服务器被临时关闭以模拟故障"
      ],
      "steps": [
        "连续5次登录失败触发账户锁定",
        "观察系统行为和用户提示"
      ],
      "expected_results": [
        "账户仍被正确锁定",
        "系统提示‘账户已锁定，请联系管理员’（替代邮件通知）",
        "后台记录邮件发送失败日志，供后续重试或排查"
      ],
      "priority": "P2",
      "category": "可靠性测试",
      "description": "确保关键通知机制在邮件服务异常时有备用方案，保障安全策略执行"
    },
    {
      "id": "TC018",
      "title": "验证多因素认证（MFA）启用后的登录流程",
      "preconditions": [
        "测试用户已绑定MFA设备（如Google Authenticator）",
        "系统支持TOTP协议"
      ],
      "steps": [
        "输入正确的用户名和密码",
        "点击登录后进入MFA验证页面",
        "输入当前有效的6位动态验证码",
        "提交验证"
      ],
      "expected_results": [
        "成功进入MFA验证阶段",
        "动态码验证通过后跳转至首页",
        "会话令牌包含MFA认证标识",
        "该设备标记为‘已信任’（如启用信任设备功能）"
      ],
      "priority": "P1",
      "category": "功能测试",
      "description": "验证MFA集成的正确性，确保增强认证流程完整有效"
    },
    {
      "id": "TC019",
      "title": "验证多因素认证（MFA）失败场景的处理",
      "preconditions": [
        "测试用户已启用MFA",
        "系统设置为连续3次MFA失败锁定账户10分钟"
      ],
      "steps": [
        "使用正确用户名和密码登录",
        "输入错误的MFA验证码3次",
        "第4次输入正确验证码"
      ],
      "expected_results": [
        "前两次MFA失败提示‘验证码错误’",
        "第三次失败后账户被锁定，提示‘因多次验证失败，账户已锁定’",
        "第4次即使输入正确验证码也无法通过",
        "锁定期间无法完成MFA认证"
      ],
      "priority": "P1",
      "category": "功能测试",
      "description": "验证MFA失败后的安全控制机制，防止暴力破解动态码"
    },
    {
      "id": "TC002",
      "title": "用户使用无效凭据登录应被拒绝",
      "preconditions": [
        "系统处于运行状态",
        "不存在用户名为 'invalid_user' 的账户"
      ],
      "steps": [
        "打开登录页面",
        "输入无效的用户名和密码（如：invalid_user / wrong_password）",
        "点击登录按钮"
      ],
      "expected_results": [
        "登录失败",
        "显示错误提示消息：'用户名或密码错误'",
        "不跳转页面，保持在登录界面"
      ],
      "priority": "P1",
      "category": "功能测试",
      "description": "验证系统在用户输入错误用户名或密码时能正确拒绝访问，并给出明确的错误提示，防止暴力破解尝试。"
    },
    {
      "id": "TC011",
      "title": "用户留空用户名或密码尝试登录应被阻止",
      "preconditions": [
        "系统处于运行状态",
        "用户已打开登录页面"
      ],
      "steps": [
        "在用户名字段留空，密码字段输入任意值（如：password123）",
        "点击登录按钮",
        "清空密码字段，输入有效用户名（如：test_user），再次点击登录按钮"
      ],
      "expected_results": [
        "第一次提交后，系统显示错误提示：'用户名不能为空'",
        "第二次提交后，系统显示错误提示：'密码不能为空'",
        "两次操作均未成功登录，页面停留在登录界面"
      ],
      "priority": "P1",
      "category": "功能测试",
      "description": "确保系统对必填字段进行前端和后端校验，防止空值绕过验证逻辑。"
    },
    {
      "id": "TC012",
      "title": "用户输入超长用户名或密码应被正确处理",
      "preconditions": [
        "系统处于运行状态",
        "已知数据库中用户名最大长度为50字符，密码哈希前最大支持128字符"
      ],
      "steps": [
        "打开登录页面",
        "输入长度为51字符的用户名和正常密码（如：a...a[51 times]/password）",
        "点击登录按钮",
        "输入正常用户名和长度为129字符的密码",
        "点击登录按钮"
      ],
      "expected_results": [
        "超长用户名输入被截断或前端阻止，提示'用户名长度不能超过50个字符'",
        "超长密码输入被前端或后端拒绝，提示'密码长度不能超过128个字符'",
        "两次尝试均未登录成功，保持在登录页面"
      ],
      "priority": "P2",
      "category": "边界测试",
      "description": "验证系统对输入长度极限的处理能力，防止缓冲区溢出或数据库截断导致的安全隐患。"
    },
    {
      "id": "TC013",
      "title": "用户输入SQL注入或XSS恶意payload应被防御",
      "preconditions": [
        "系统处于运行状态",
        "登录功能已启用输入过滤或WAF防护"
      ],
      "steps": [
        "打开登录页面",
        "在用户名字段输入：' OR '1'='1' --",
        "在密码字段输入：' OR '1'='1' --",
        "点击登录按钮",
        "在用户名字段输入：<script>alert(1)</script>",
        "点击登录按钮"
      ],
      "expected_results": [
        "系统拒绝登录请求",
        "显示通用错误信息（如：'用户名或密码错误'），不暴露内部逻辑",
        "XSS payload未执行，页面未弹窗，响应头中Content-Security-Policy生效",
        "所有恶意输入被日志记录，触发安全告警（如配置SIEM）"
      ],
      "priority": "P1",
      "category": "安全测试",
      "description": "确保系统具备基础的注入和跨站脚本防护能力，防止常见Web攻击。"
    },
    {
      "id": "TC014",
      "title": "网络中断情况下登录请求应正确处理",
      "preconditions": [
        "系统运行正常，用户正在登录过程中",
        "测试环境支持网络模拟工具（如Charles或Toxiproxy）"
      ],
      "steps": [
        "用户在登录页面输入有效凭据",
        "点击登录按钮的同时，使用网络工具立即切断客户端与服务器的连接",
        "等待30秒后恢复网络"
      ],
      "expected_results": [
        "服务器未创建用户会话",
        "网络恢复后用户未自动登录，仍需重新输入凭据",
        "服务器日志记录不完整请求或超时事件，无异常堆栈"
      ],
      "priority": "P2",
      "category": "异常恢复测试",
      "description": "验证系统在网络不稳定或中断场景下不会产生脏数据或会话泄漏。"
    },
    {
      "id": "TC015",
      "title": "服务器返回500错误时登录行为应优雅降级",
      "preconditions": [
        "系统部署在支持故障注入的环境中（如Mock服务或测试桩）"
      ],
      "steps": [
        "配置后端登录接口返回HTTP 500错误",
        "用户在前端输入有效凭据并提交",
        "观察前端响应"
      ],
      "expected_results": [
        "前端显示友好错误提示：'系统繁忙，请稍后再试'",
        "不暴露堆栈信息或内部错误详情",
        "用户停留在登录页面，可重新尝试登录",
        "错误被记录到前端监控系统（如Sentry）"
      ],
      "priority": "P2",
      "category": "异常恢复测试",
      "description": "确保系统在后端服务异常时提供良好的用户体验，并具备错误隔离能力。"
    },
    {
      "id": "TC016",
      "title": "数据库连接失败时登录应返回明确错误",
      "preconditions": [
        "系统运行中，数据库服务可被临时关闭"
      ],
      "steps": [
        "停止数据库服务",
        "用户尝试使用有效凭据登录",
        "观察系统响应"
      ],
      "expected_results": [
        "登录失败",
        "前端显示提示：'系统暂时不可用，请稍后重试'",
        "后端日志记录数据库连接超时或拒绝连接错误",
        "不创建用户会话，不泄露敏感信息"
      ],
      "priority": "P2",
      "category": "异常恢复测试",
      "description": "验证系统在依赖服务（如数据库）不可用时具备容错机制和清晰的错误传达。"
    },
    {
      "id": "TC017",
      "title": "多因素认证启用时正常登录流程应引导MFA验证",
      "preconditions": [
        "系统支持MFA功能",
        "测试用户已绑定MFA设备（如Google Authenticator）"
      ],
      "steps": [
        "用户输入正确的用户名和密码",
        "点击登录按钮",
        "系统跳转至MFA验证页面",
        "输入正确的动态验证码",
        "提交验证"
      ],
      "expected_results": [
        "成功进入MFA验证环节",
        "动态验证码校验通过后，跳转至用户主页",
        "会话状态正确建立",
        "MFA验证失败时提示'验证码错误'并允许重试（最多5次）"
      ],
      "priority": "P0",
      "category": "功能测试",
      "description": "验证MFA流程的完整性和正确性，确保高安全场景下的身份确认机制可靠。"
    },
    {
      "id": "TC018",
      "title": "多因素认证失败多次应触发账户锁定或延迟机制",
      "preconditions": [
        "系统配置MFA连续失败5次后锁定账户15分钟",
        "测试用户已启用MFA"
      ],
      "steps": [
        "使用正确用户名和密码登录",
        "进入MFA页面后，连续输入5次错误的验证码",
        "尝试第6次MFA验证"
      ],
      "expected_results": [
        "前5次提示'验证码错误'",
        "第6次尝试时提示'账户已被锁定，请15分钟后重试'",
        "账户锁定期间无法完成MFA验证，即使输入正确验证码",
        "锁定时间结束后可正常验证"
      ],
      "priority": "P1",
      "category": "安全测试",
      "description": "防止暴力破解MFA验证码，增强二次认证的安全性。"
    },
    {
      "id": "TC019",
      "title": "邮件发送失败时系统应记录日志并提示用户",
      "preconditions": [
        "系统配置了SMTP邮件服务",
        "SMTP服务被临时关闭或配置错误"
      ],
      "steps": [
        "用户触发需要发送邮件的操作（如注册或找回密码）",
        "系统尝试发送邮件",
        "检查系统响应和后台日志"
      ],
      "expected_results": [
        "用户收到提示：'邮件发送失败，请稍后重试或联系管理员'",
        "操作不中断（如注册仍成功，仅邮件未发）",
        "系统后台日志记录SMTP连接失败详情",
        "有重试机制或告警通知运维人员"
      ],
      "priority": "P2",
      "category": "异常恢复测试",
      "description": "确保系统在邮件服务异常时具备降级处理能力，不影响核心业务流程。"
    },
    {
      "id": "TC020",
      "title": "上传文件大小为边界值（10MB）应被接受",
      "preconditions": [
        "系统允许最大上传文件大小为10MB",
        "存在一个恰好为10MB的测试文件"
      ],
      "steps": [
        "进入文件上传页面",
        "选择大小为10MB的文件",
        "点击上传按钮"
      ],
      "expected_results": [
        "文件上传成功",
        "系统显示上传完成提示",
        "文件内容完整保存，无截断或损坏",
        "服务器资源使用正常，无超时或内存溢出"
      ],
      "priority": "P2",
      "category": "边界测试",
      "description": "验证系统对文件上传大小限制的边界处理，确保规格定义准确执行。"
    },
    {
      "id": "TC021",
      "title": "会话超时临界点操作应正确处理（14分钟和15分钟）",
      "preconditions": [
        "系统会话超时时间为15分钟",
        "用户已成功登录"
      ],
      "steps": [
        "登录后保持静默14分钟",
        "在第14分30秒时执行任意操作（如点击页面按钮）",
        "等待至第15分30秒再执行操作"
      ],
      "expected_results": [
        "第14分30秒的操作被接受，会话延长",
        "第15分30秒的操作提示'会话已过期，请重新登录'",
        "系统清除原会话数据，要求重新认证",
        "前端跳转至登录页，URL中无敏感参数残留"
      ],
      "priority": "P2",
      "category": "功能测试",
      "description": "确保会话管理机制在时间边界上行为一致，防止权限维持漏洞。"
    },
    {
      "id": "TC003",
      "title": "登录接口在高并发下响应时间小于1秒",
      "preconditions": [
        "性能测试环境已部署，包含独立的数据库、应用服务器和负载测试机",
        "登录接口服务正常运行，监控工具（如Prometheus + Grafana）已启用",
        "JMeter已配置1000个并发线程，Ramp-up时间为60秒，循环次数为1"
      ],
      "steps": [
        "使用JMeter模拟1000个并发用户持续请求登录接口（POST /api/login），每秒约16-17个请求",
        "记录平均响应时间、95th百分位响应时间、错误率和吞吐量（requests/second）",
        "监控系统资源使用情况（CPU、内存、数据库连接池使用率）"
      ],
      "expected_results": [
        "平均响应时间 < 1000ms",
        "95th百分位响应时间 ≤ 1500ms",
        "错误率 < 1%",
        "系统无崩溃或服务中断",
        "数据库连接池最大使用率不超过80%"
      ],
      "priority": "P1",
      "category": "性能测试",
      "description": "验证系统在高并发登录场景下的性能表现，确保用户体验不受影响，保障核心身份认证服务的稳定性。"
    },
    {
      "id": "TC004",
      "title": "登录请求中密码必须通过TLS 1.2+加密传输并使用bcrypt哈希存储",
      "preconditions": [
        "测试环境启用HTTPS（TLS 1.2或更高版本）",
        "后端服务配置密码使用bcrypt算法哈希存储",
        "抓包工具（Wireshark）已安装并配置SSLKEYLOGFILE以解密HTTPS流量"
      ],
      "steps": [
        "使用浏览器或Postman发起登录请求，输入测试账号和密码",
        "通过Wireshark捕获客户端到服务器的通信流量，应用过滤规则：http.request.uri contains '/api/login'",
        "检查传输层是否使用TLS 1.2或以上版本，确认加密套件为ECDHE-RSA-AES128-GCM-SHA256及以上",
        "登录成功后，查询数据库中该用户的密码字段，验证其是否为bcrypt哈希格式（以$2b$开头）"
      ],
      "expected_results": [
        "所有登录请求均通过TLS 1.2+加密传输",
        "抓包内容中密码明文不可见",
        "数据库中存储的密码为bcrypt哈希值，非明文或弱哈希（如MD5）"
      ],
      "priority": "P0",
      "category": "安全测试",
      "description": "确保用户密码在传输和存储过程中均受到强加密保护，防止中间人攻击和数据库泄露导致的安全风险。"
    },
    {
      "id": "TC005",
      "title": "登录失败多次后触发账户锁定，系统通过邮件通知用户并处理SMTP异常",
      "preconditions": [
        "系统配置为连续5次登录失败后锁定账户（锁定时间15分钟）",
        "邮件服务（SMTP）已集成，日志系统可记录邮件发送状态",
        "测试邮箱（如testuser@example.com）可用，或邮件日志可被访问"
      ],
      "steps": [
        "使用无效密码对同一账户连续发起5次登录请求",
        "验证第6次登录是否返回'账户已被锁定'提示",
        "检查邮件日志或实际邮箱是否收到'账户锁定通知'邮件",
        "模拟SMTP服务器宕机（关闭SMTP服务），重复上述步骤",
        "观察系统是否记录邮件发送失败日志，并向用户返回友好提示而非暴露内部错误"
      ],
      "expected_results": [
        "第6次登录请求被拒绝，返回状态码403及提示'账户已被锁定'",
        "邮件日志显示通知已尝试发送，且正常情况下邮件成功送达指定邮箱",
        "SMTP异常时，系统不抛出500错误，而是记录错误日志并向用户显示'安全通知发送失败，请联系管理员'",
        "账户锁定状态仍正确维持，不影响核心安全逻辑"
      ],
      "priority": "P1",
      "category": "功能测试,异常处理",
      "description": "验证账户锁定机制与邮件通知的可靠性，同时测试外部依赖失败时系统的降级处理能力，提升容错性和用户体验。"
    },
    {
      "id": "TC006",
      "title": "会话超时后用户需重新登录，临界时间点行为正确",
      "preconditions": [
        "系统会话超时设置为15分钟",
        "用户已成功登录并保持会话活跃"
      ],
      "steps": [
        "用户登录后，在第14分钟执行一次受保护资源访问（如获取用户信息）",
        "等待至第15分钟01秒，再次尝试访问受保护资源",
        "检查响应是否重定向到登录页或返回401未授权状态",
        "尝试使用原会话Token调用API，验证其是否失效"
      ],
      "expected_results": [
        "第14分钟的请求成功处理",
        "第15分钟后的请求被拒绝，要求重新认证",
        "原会话Token无法继续使用，系统已清除会话状态"
      ],
      "priority": "P1",
      "category": "功能测试,边界测试",
      "description": "确保会话管理机制在时间边界上行为一致，防止因会话未及时失效导致的安全隐患。"
    },
    {
      "id": "TC007",
      "title": "服务异常中断后恢复，数据一致且会话状态正确清理",
      "preconditions": [
        "系统运行中已有多个活跃用户会话",
        "自动化健康检查工具（如Prometheus + Alertmanager）已部署并监控服务状态"
      ],
      "steps": [
        "通过kill -9命令强制终止应用服务进程（模拟断电或崩溃）",
        "立即启动服务，记录从停止到健康检查工具检测到服务恢复的时间",
        "检查数据库中活跃会话表是否在重启后清空或标记为失效",
        "尝试使用重启前的旧Token访问API，验证是否被拒绝"
      ],
      "expected_results": [
        "服务在5秒内重新启动并通过健康检查",
        "总中断时间（从kill到服务可用）≤ 10秒",
        "重启后所有旧会话失效，无法使用原Token访问",
        "数据库中无残留的活跃会话记录，数据状态一致"
      ],
      "priority": "P0",
      "category": "容灾测试,数据一致性",
      "description": "验证系统在突发故障后能否快速恢复，并保证用户状态和数据的一致性，避免会话劫持等安全问题。"
    },
    {
      "id": "TC008",
      "title": "上传头像文件大小限制为10MB，边界值测试",
      "preconditions": [
        "用户已登录",
        "上传接口支持图片格式（JPEG/PNG）"
      ],
      "steps": [
        "尝试上传一个大小为10MB的合法图片文件",
        "尝试上传一个大小为10.1MB的图片文件",
        "检查系统对两个请求的处理结果"
      ],
      "expected_results": [
        "10MB文件上传成功，返回200 OK",
        "10.1MB文件被拒绝，返回413 Payload Too Large或400错误，提示'文件大小不能超过10MB'"
      ],
      "priority": "P1",
      "category": "功能测试,边界测试",
      "description": "验证文件上传功能在边界值处的处理逻辑，确保系统对合法输入宽容，对非法输入严格拒绝。"
    },
    {
      "id": "TC009",
      "title": "核心功能在低网络质量下仍可操作（登录、提交表单）",
      "preconditions": [
        "使用网络模拟工具（如Clumsy或tc）配置网络延迟和丢包",
        "测试设备可连接系统"
      ],
      "steps": [
        "设置网络延迟为500ms，丢包率10%",
        "执行登录操作，记录是否成功",
        "提交一个用户信息表单（POST /api/profile）",
        "重复测试3次，观察成功率"
      ],
      "expected_results": [
        "登录请求在3秒内完成并成功",
        "表单提交成功，返回200或201状态码",
        "无因网络波动导致的请求重复或数据错乱"
      ],
      "priority": "P2",
      "category": "性能测试,用户体验",
      "description": "确保核心业务流程在真实弱网环境下仍具备可用性，提升移动端或跨国用户的使用体验。"
    },
    {
      "id": "TC010",
      "title": "数据库连接池最大连接数为50，达到上限后系统优雅降级",
      "preconditions": [
        "数据库连接池配置：maxPoolSize=50",
        "监控工具可查看当前活跃连接数"
      ],
      "steps": [
        "通过脚本模拟50个并发请求，每个请求占用一个数据库连接",
        "发起第51个请求，尝试执行登录操作",
        "观察系统行为：是否拒绝新请求或排队等待",
        "检查日志是否记录连接池耗尽警告"
      ],
      "expected_results": [
        "前50个请求正常处理",
        "第51个请求在合理时间内（≤5秒）获得连接或返回友好错误",
        "系统未崩溃，连接池未泄露",
        "日志中记录'数据库连接池已达上限'相关信息"
      ],
      "priority": "P1",
      "category": "性能测试,异常处理",
      "description": "验证系统在资源饱和情况下的稳定性，防止因连接泄漏或拒绝服务导致整体宕机。"
    },
    {
      "id": "TC011",
      "title": "登录接口支持多因素认证（MFA），正确处理成功与失败场景",
      "preconditions": [
        "用户已启用MFA（基于TOTP）",
        "认证应用（如Google Authenticator）已绑定账户"
      ],
      "steps": [
        "输入正确用户名和密码，进入MFA验证阶段",
        "输入正确的6位动态验证码，提交",
        "再次登录，输入错误的验证码",
        "尝试多次错误MFA输入（如5次），验证是否触发锁定机制"
      ],
      "expected_results": [
        "正确MFA验证码通过验证，允许登录",
        "错误验证码返回401，提示'验证码错误'",
        "连续失败5次后，账户临时锁定或MFA尝试计数重置延迟增加"
      ],
      "priority": "P0",
      "category": "功能测试,安全测试",
      "description": "确保多因素认证机制正确实施，增强账户安全性，防止暴力破解。"
    },
    {
      "id": "TC012",
      "title": "登录接口对超长用户名和密码进行合理处理（边界输入测试）",
      "preconditions": [
        "数据库用户表中用户名字段长度限制为255字符，密码哈希字段为60字符（bcrypt）",
        "系统启用输入校验中间件"
      ],
      "steps": [
        "尝试使用长度为255字符的用户名和20字符密码登录（合法边界）",
        "尝试使用长度为256字符的用户名登录（超限）",
        "尝试使用长度为1000字符的密码登录（超长输入）"
      ],
      "expected_results": [
        "255字符用户名登录成功",
        "256字符用户名被前端或后端拒绝，返回400错误，提示'用户名长度不能超过255字符'",
        "1000字符密码被拒绝，返回400，提示'密码过长'，防止资源耗尽攻击"
      ],
      "priority": "P1",
      "category": "边界测试,安全测试",
      "description": "防止因超长输入导致的缓冲区溢出、拒绝服务或数据库截断问题，确保输入验证机制健全。"
    },
    {
      "id": "TC013",
      "title": "登录接口正确处理空用户名/密码、SQL注入和XSS攻击尝试",
      "preconditions": [
        "登录接口对外暴露"
      ],
      "steps": [
        "发送空用户名和空密码的登录请求",
        "发送用户名为'admin' -- 或 ' OR 1=1 -- 的请求",
        "发送包含XSS payload的用户名，如'<script>alert(1)</script>'",
        "检查系统响应和日志"
      ],
      "expected_results": [
        "空输入被拒绝，返回400及明确错误信息",
        "SQL注入尝试被拦截，返回401或400，日志记录可疑请求",
        "XSS payload被过滤或转义，响应中不执行脚本，页面不反射恶意内容",
        "所有异常请求均不导致系统错误或数据泄露"
      ],
      "priority": "P0",
      "category": "安全测试",
      "description": "验证系统对常见Web攻击的防御能力，确保输入过滤和输出编码机制有效。"
    },
    {
      "id": "TC014",
      "title": "网络中断或服务器500错误时，登录页面显示友好错误提示",
      "preconditions": [
        "前端页面通过AJAX调用登录API",
        "可模拟后端服务不可达（如防火墙阻断或服务关闭）"
      ],
      "steps": [
        "发起登录请求前，断开前端与后端的网络连接",
        "点击登录按钮，观察前端行为",
        "恢复网络，重复操作，验证是否恢复正常"
      ],
      "expected_results": [
        "前端在5秒内检测到请求失败，显示'网络连接失败，请检查网络'提示",
        "不显示堆栈信息或内部错误码",
        "用户可重新输入并尝试登录"
      ],
      "priority": "P2",
      "category": "用户体验,异常处理",
      "description": "提升系统在故障情况下的用户友好性，避免因技术错误导致用户困惑或流失。"
    },
    {
      "id": "TC004",
      "title": "登录请求中的密码字段应通过TLS加密传输且不以明文形式出现",
      "preconditions": [
        "系统部署在支持HTTPS的环境中，且配置了TLS 1.2或更高版本",
        "抓包工具（如Wireshark）已安装并配置好SSL/TLS解密密钥（如服务器私钥）",
        "抓包工具已设置过滤规则：tls.handshake.type == 1 || http.request.method == POST"
      ],
      "steps": [
        "启动Wireshark并开始捕获目标网卡流量",
        "执行一次登录操作，输入有效用户名和密码",
        "停止抓包，筛选与登录接口相关的HTTPS请求（如POST /api/v1/login）",
        "检查TLS握手过程是否成功协商TLS 1.2+协议",
        "尝试解密HTTPS流量，查看HTTP请求体内容"
      ],
      "expected_results": [
        "所有登录请求通过HTTPS协议传输，使用TLS 1.2或更高版本",
        "在解密后的请求体中，密码字段未以明文形式存在",
        "密码字段应为不可逆哈希值或由前端加密后的密文（如使用PBKDF2、bcrypt等算法）",
        "未在任何网络层数据包中发现原始密码字符串"
      ],
      "priority": "P0",
      "category": "安全测试",
      "description": "验证用户登录时密码在网络传输过程中是否得到有效保护，防止中间人攻击窃取凭据。"
    },
    {
      "id": "TC005",
      "title": "系统在注册成功后应正确发送激活邮件并处理SMTP异常情况",
      "preconditions": [
        "邮件服务已配置SMTP服务器地址、端口（如587）、认证信息",
        "测试邮箱账户可用，可接收外部邮件",
        "邮件日志记录功能已开启"
      ],
      "steps": [
        "提交注册请求，填写有效邮箱地址",
        "监控邮件服务日志中是否生成发送任务",
        "检查目标邮箱是否在2分钟内收到激活邮件",
        "模拟SMTP服务器不可达（如关闭SMTP服务）",
        "再次提交注册请求，观察系统行为"
      ],
      "expected_results": [
        "邮件服务日志显示成功发送邮件记录",
        "目标邮箱在2分钟内接收到包含激活链接的有效邮件",
        "当SMTP服务异常时，系统应记录错误日志并返回用户友好提示（如“邮件发送失败，请稍后重试”）",
        "系统不阻塞注册流程，用户仍可完成注册但需后续手动触发重发"
      ],
      "priority": "P1",
      "category": "功能测试,异常处理",
      "description": "确保注册流程中邮件通知机制可靠，并在邮件服务故障时具备降级处理能力。"
    },
    {
      "id": "TC006",
      "title": "会话超时后用户应被正确登出并清理会话数据",
      "preconditions": [
        "系统会话超时配置为15分钟",
        "用户已成功登录并保持会话活动"
      ],
      "steps": [
        "登录系统后等待14分钟，期间每隔2分钟发送一次心跳请求",
        "在第14分30秒时执行一次敏感操作（如访问个人资料）",
        "持续等待至第16分钟，再次尝试访问需认证的资源",
        "检查服务器端会话存储中该用户的会话是否已被清除"
      ],
      "expected_results": [
        "在14分30秒时操作成功执行",
        "第16分钟访问受保护资源时被重定向至登录页或返回401状态码",
        "服务器端会话存储中对应的session ID已失效并被删除",
        "浏览器本地存储（如localStorage）中的敏感令牌已被清除"
      ],
      "priority": "P1",
      "category": "安全测试,会话管理",
      "description": "验证系统在会话超时期限到达时能否正确清理用户状态，防止会话劫持风险。"
    },
    {
      "id": "TC007",
      "title": "服务异常中断后应能自动恢复且数据一致性不受影响",
      "preconditions": [
        "系统运行正常，数据库主从同步正常",
        "健康检查工具（如Prometheus + Grafana）已部署并监控服务状态"
      ],
      "steps": [
        "通过kill -9命令强制终止应用服务进程",
        "记录服务中断时间点",
        "重启服务并启动健康检查监控",
        "检查服务是否在30秒内恢复正常（HTTP健康端点返回200）",
        "验证最近一次业务操作的数据是否完整写入数据库",
        "确认用户会话状态未丢失或错误保留"
      ],
      "expected_results": [
        "服务在30秒内重新启动并通过健康检查",
        "数据库中未出现部分写入或脏数据",
        "正在进行的事务被正确回滚或持久化",
        "用户会话在恢复后需重新认证，旧会话无效"
      ],
      "priority": "P1",
      "category": "可靠性测试,异常恢复",
      "description": "模拟服务崩溃场景，验证系统恢复能力和数据一致性保障机制。"
    },
    {
      "id": "TC008",
      "title": "文件上传功能应正确处理边界值和超限文件",
      "preconditions": [
        "文件上传接口最大限制为10MB",
        "测试文件已准备：9.9MB、10MB、10.1MB"
      ],
      "steps": [
        "上传一个9.9MB的文件",
        "上传一个恰好10MB的文件",
        "上传一个10.1MB的文件",
        "检查系统响应和服务器端文件存储情况"
      ],
      "expected_results": [
        "9.9MB文件上传成功，服务器保存文件并返回200状态码",
        "10MB文件上传成功，系统正常处理",
        "10.1MB文件被拒绝，返回413 Payload Too Large或自定义错误码",
        "服务器未存储超限文件，且无临时文件残留"
      ],
      "priority": "P1",
      "category": "功能测试,边界测试",
      "description": "验证文件上传功能对大小限制的精确控制，包括边界值和异常值处理。"
    },
    {
      "id": "TC009",
      "title": "核心功能操作在高负载下响应时间应低于2秒",
      "preconditions": [
        "性能测试环境已搭建，JMeter或Locust工具就绪",
        "数据库连接池大小设置为50",
        "并发用户数配置为100"
      ],
      "steps": [
        "使用性能测试工具模拟100个并发用户连续执行核心功能操作（如登录、提交订单、查询报表）",
        "持续运行测试10分钟",
        "收集每个请求的响应时间、吞吐量和错误率"
      ],
      "expected_results": [
        "平均响应时间 ≤ 2秒",
        "95%的请求响应时间 ≤ 3秒",
        "错误率 < 0.5%",
        "系统未出现连接池耗尽或500错误"
      ],
      "priority": "P2",
      "category": "性能测试",
      "description": "评估系统在典型高并发场景下的性能表现，确保用户体验不受影响。"
    },
    {
      "id": "TC011",
      "title": "登录接口应正确处理超长用户名和密码输入",
      "preconditions": [
        "数据库中用户名字段长度限制为64字符，密码哈希存储长度为256字符",
        "前端未对输入长度做限制"
      ],
      "steps": [
        "尝试使用70字符的用户名和任意密码登录",
        "尝试使用64字符的用户名和300字符的密码登录",
        "尝试使用最大允许长度（64字符）的用户名和密码组合"
      ],
      "expected_results": [
        "超过64字符的用户名被拒绝，返回400错误并提示“用户名长度超出限制”",
        "长密码（即使超过300字符）应被安全截断或哈希处理，不影响系统稳定性",
        "64字符合法用户名和合规密码组合可正常认证"
      ],
      "priority": "P2",
      "category": "安全测试,边界测试",
      "description": "防止因超长输入导致缓冲区溢出、DoS攻击或数据库写入失败。"
    },
    {
      "id": "TC012",
      "title": "登录接口应防御SQL注入和XSS攻击尝试",
      "preconditions": [
        "系统启用了输入校验和参数化查询",
        "WAF或应用层防护机制已启用"
      ],
      "steps": [
        "使用SQL注入payload作为用户名：' OR '1'='1",
        "使用XSS payload作为密码：<script>alert(1)</script>",
        "提交登录请求并观察系统响应",
        "检查服务器日志是否记录可疑行为"
      ],
      "expected_results": [
        "请求被拒绝或认证失败，返回401或400状态码",
        "服务器未执行恶意SQL语句或渲染脚本",
        "安全日志中记录潜在攻击行为，触发告警（如WAF日志）",
        "响应头中包含安全防护标识（如X-Content-Type-Options）"
      ],
      "priority": "P0",
      "category": "安全测试",
      "description": "验证系统对常见Web攻击的防御能力，确保输入过滤机制有效。"
    },
    {
      "id": "TC013",
      "title": "系统在数据库连接失败时应返回友好错误并保持可用性",
      "preconditions": [
        "数据库服务正常运行",
        "系统连接池配置为最大30连接"
      ],
      "steps": [
        "手动停止数据库服务",
        "尝试执行登录操作",
        "检查系统响应内容和HTTP状态码",
        "查看前端是否显示用户友好的错误提示"
      ],
      "expected_results": [
        "登录请求返回503 Service Unavailable或自定义错误码",
        "错误信息为“服务暂时不可用，请稍后重试”而非堆栈信息",
        "前端不暴露数据库细节（如表名、字段名）",
        "系统保持运行，静态资源仍可访问"
      ],
      "priority": "P1",
      "category": "异常处理,容错测试",
      "description": "确保系统在关键依赖故障时具备优雅降级能力，提升用户体验和安全性。"
    },
    {
      "id": "TC014",
      "title": "多因素认证（MFA）应支持启用、验证及失败处理流程",
      "preconditions": [
        "用户账户已绑定MFA设备（如Google Authenticator）",
        "MFA功能已开启"
      ],
      "steps": [
        "用户输入正确用户名和密码后进入MFA验证阶段",
        "输入正确的6位动态验证码",
        "验证登录是否成功",
        "重复登录但输入错误的MFA码（连续3次）",
        "检查账户是否被临时锁定"
      ],
      "expected_results": [
        "正确MFA码通过验证，用户成功登录",
        "错误MFA码导致验证失败并提示“验证码错误”",
        "连续3次失败后账户锁定5分钟，期间无法完成MFA验证",
        "锁定时间结束后可重新尝试"
      ],
      "priority": "P0",
      "category": "功能测试,安全测试",
      "description": "验证多因素认证机制的完整性和安全性，防止暴力破解。"
    },
    {
      "id": "TC015",
      "title": "网络中断期间登录请求应被妥善处理并提示用户",
      "preconditions": [
        "客户端与服务器之间网络可达",
        "使用Fiddler或Charles模拟网络中断"
      ],
      "steps": [
        "在登录请求发出后立即切断网络连接",
        "观察前端是否在合理时间内（如10秒）超时",
        "检查是否显示“网络连接失败，请检查网络”提示",
        "恢复网络后尝试重新登录"
      ],
      "expected_results": [
        "请求在10秒内超时并中断",
        "前端展示清晰的网络错误提示，不显示技术细节",
        "未保存部分提交的敏感数据到本地缓存",
        "恢复网络后可正常重新提交登录请求"
      ],
      "priority": "P1",
      "category": "异常处理,用户体验",
      "description": "确保在网络不稳定环境下系统仍能提供良好反馈，避免用户困惑或数据泄露。"
    },
    {
      "id": "TC005",
      "title": "新用户注册后能够收到激活邮件",
      "preconditions": [
        "邮件服务已配置并运行，SMTP服务器正常",
        "注册页面可访问",
        "测试邮箱 testuser@example.com 可用于接收邮件或查看邮件日志"
      ],
      "steps": [
        "访问用户注册页面",
        "填写有效注册信息（邮箱：testuser@example.com）",
        "提交注册表单"
      ],
      "expected_results": [
        "系统显示注册成功提示",
        "通过邮件日志或邮件服务器监控工具确认已向 testuser@example.com 发送激活邮件",
        "邮件内容包含有效激活链接，且链接符合安全规范（使用HTTPS和一次性token）"
      ],
      "priority": "P1",
      "category": "功能测试",
      "description": "验证新用户注册流程中激活邮件的正确生成与发送，确保用户可通过邮件完成账户激活，提升注册转化率。同时验证系统在邮件发送成功时的用户反馈机制。"
    },
    {
      "id": "TC011",
      "title": "注册时邮件发送失败系统应正确降级并提示用户",
      "preconditions": [
        "邮件服务已配置但当前SMTP服务不可用（可模拟断开）",
        "注册页面可访问"
      ],
      "steps": [
        "访问用户注册页面",
        "填写有效注册信息（邮箱：testuser@example.com）",
        "提交注册表单"
      ],
      "expected_results": [
        "系统显示注册成功提示，但明确告知用户激活邮件发送失败，请检查邮箱或重新发送",
        "用户账户在数据库中创建但状态为未激活",
        "系统记录邮件发送失败日志，便于后续排查"
      ],
      "priority": "P1",
      "category": "异常处理",
      "description": "验证系统在邮件服务异常时的容错能力，确保用户体验不受严重影响，并保留数据一致性。"
    },
    {
      "id": "TC012",
      "title": "上传恰好为最大允许大小的文件应被接受",
      "preconditions": [
        "文件上传功能已启用",
        "系统配置最大上传文件大小为10MB"
      ],
      "steps": [
        "准备一个大小恰好为10MB的合法文件（如 test.pdf）",
        "在文件上传界面选择该文件",
        "提交上传请求"
      ],
      "expected_results": [
        "文件上传成功",
        "系统显示上传成功提示",
        "文件可在服务器指定目录中找到且内容完整"
      ],
      "priority": "P2",
      "category": "边界测试",
      "description": "验证系统对文件上传大小限制的边界处理能力，确保等于上限值的文件能被正确处理，避免因边界判断错误导致合法文件被拒绝。"
    },
    {
      "id": "TC013",
      "title": "会话在超时临界点操作应正确失效",
      "preconditions": [
        "系统会话超时时间为15分钟",
        "用户已成功登录"
      ],
      "steps": [
        "登录系统后等待14分钟",
        "执行任意操作（如刷新页面）",
        "继续等待至第15分30秒，再次执行操作"
      ],
      "expected_results": [
        "第14分钟时操作成功，会话仍有效",
        "第15分30秒时操作失败，系统重定向至登录页面或返回401未授权状态",
        "会话数据在服务端被清除"
      ],
      "priority": "P2",
      "category": "功能测试",
      "description": "验证会话管理机制在接近和超过超时阈值时的正确性，确保用户安全和资源及时释放。"
    },
    {
      "id": "TC014",
      "title": "登录接口应正确处理超长用户名和密码输入",
      "preconditions": [
        "登录接口已部署并可访问",
        "数据库中用户名字段最大长度为255字符，密码哈希前最大支持128字符"
      ],
      "steps": [
        "使用长度为255字符的用户名和128字符的密码组合进行登录请求",
        "使用长度超过255字符的用户名（如256字符）进行登录请求"
      ],
      "expected_results": [
        "255字符用户名和128字符密码的登录请求被正常处理，验证是否按预期认证",
        "超过255字符的用户名被系统拒绝，返回明确错误提示（如'用户名长度超出限制'）",
        "系统不因超长输入引发异常或崩溃"
      ],
      "priority": "P2",
      "category": "边界测试",
      "description": "验证登录接口对输入长度的边界处理，防止潜在的缓冲区溢出或数据库截断问题，保障系统健壮性。"
    },
    {
      "id": "TC015",
      "title": "登录时输入空用户名或空密码应被正确校验",
      "preconditions": [
        "登录页面可访问"
      ],
      "steps": [
        "在登录页面留空用户名，填写密码，提交表单",
        "在登录页面留空密码，填写用户名，提交表单",
        "用户名和密码均为空，提交表单"
      ],
      "expected_results": [
        "每种情况下系统均阻止提交或返回错误提示",
        "提示信息明确指出缺失的字段（如'请输入用户名'或'请输入密码'）",
        "不向后端发送无效认证请求"
      ],
      "priority": "P1",
      "category": "功能测试",
      "description": "确保登录表单前端和后端均对必填字段进行校验，防止无效请求提交，提升用户体验和安全性。"
    },
    {
      "id": "TC016",
      "title": "登录时输入恶意内容（SQL注入/XSS）应被有效防御",
      "preconditions": [
        "登录接口已启用输入过滤和安全防护机制"
      ],
      "steps": [
        "在用户名字段输入典型SQL注入字符串（如 ' OR '1'='1）",
        "在密码字段输入XSS payload（如 <script>alert(1)</script>）",
        "提交登录请求"
      ],
      "expected_results": [
        "系统拒绝登录请求，不返回数据库错误或执行脚本",
        "输入内容被正确转义或过滤",
        "系统记录安全日志，标记潜在攻击行为"
      ],
      "priority": "P1",
      "category": "安全测试",
      "description": "验证系统对常见Web攻击的防护能力，确保用户输入不会导致数据泄露或前端脚本执行。"
    },
    {
      "id": "TC017",
      "title": "在系统级错误（如500、数据库断开）下登录应返回友好错误提示",
      "preconditions": [
        "模拟数据库连接失败或后端服务返回500错误"
      ],
      "steps": [
        "尝试使用有效凭据登录系统",
        "监控系统响应"
      ],
      "expected_results": [
        "系统不显示敏感错误信息（如堆栈跟踪）",
        "用户看到友好提示（如'系统暂时不可用，请稍后重试'）",
        "错误被记录在服务端日志中"
      ],
      "priority": "P1",
      "category": "异常处理",
      "description": "确保系统在严重故障时仍能提供可控的用户体验，避免信息泄露并便于运维排查。"
    },
    {
      "id": "TC018",
      "title": "启用MFA后用户登录需完成二次验证",
      "preconditions": [
        "系统支持多因素认证（MFA）",
        "测试用户已绑定MFA设备（如Google Authenticator）"
      ],
      "steps": [
        "使用正确用户名和密码登录",
        "进入MFA验证页面",
        "输入正确的动态验证码",
        "提交验证"
      ],
      "expected_results": [
        "成功进入MFA验证步骤",
        "输入正确验证码后登录成功",
        "会话被正确建立"
      ],
      "priority": "P0",
      "category": "功能测试",
      "description": "验证MFA核心流程的正确性，确保高安全场景下的身份验证机制有效。"
    },
    {
      "id": "TC019",
      "title": "MFA验证失败应阻止登录并记录尝试",
      "preconditions": [
        "系统支持MFA",
        "测试用户已启用MFA"
      ],
      "steps": [
        "使用正确用户名和密码登录",
        "在MFA页面输入错误的验证码（如少一位或过期码）",
        "提交验证"
      ],
      "expected_results": [
        "系统提示验证码错误",
        "不允许登录",
        "错误尝试被记录在安全日志中",
        "连续多次失败后触发账户锁定或延迟机制"
      ],
      "priority": "P1",
      "category": "安全测试",
      "description": "验证MFA的安全防护能力，防止暴力破解，确保错误处理机制健全。"
    },
    {
      "id": "TC020",
      "title": "模拟服务中断后系统恢复应保持数据一致性并正确重建会话",
      "preconditions": [
        "系统正在运行，用户已登录",
        "健康检查工具已部署（如Prometheus + Grafana）"
      ],
      "steps": [
        "通过kill -9模拟服务进程中断",
        "重启服务",
        "使用健康检查工具确认服务恢复时间",
        "尝试继续原用户会话操作"
      ],
      "expected_results": [
        "服务在指定SLA时间内恢复（如30秒内）",
        "健康检查工具记录中断和恢复时间点",
        "原会话失效，用户需重新登录",
        "数据库中无脏数据或状态不一致记录"
      ],
      "priority": "P1",
      "category": "可靠性测试",
      "description": "验证系统在非正常中断后的恢复能力，确保高可用性和数据完整性。"
    },
    {
      "id": "TC006",
      "title": "长时间未操作后会话自动失效",
      "preconditions": [
        "用户已成功登录系统",
        "系统会话超时设置为15分钟",
        "浏览器或客户端支持会话令牌管理"
      ],
      "steps": [
        "登录系统后不进行任何操作",
        "等待14分钟，尝试访问受保护页面（如个人资料页）",
        "等待15分钟整，再次尝试访问受保护页面",
        "等待16分钟，再次尝试访问受保护页面"
      ],
      "expected_results": [
        "在14分钟时，访问受保护页面成功，会话仍有效",
        "在15分钟整时，系统可能提示会话即将过期或仍允许访问（视实现策略）",
        "在16分钟时，系统检测到会话已过期",
        "自动跳转至登录页面",
        "原会话令牌被清除，无法继续使用旧令牌访问资源"
      ],
      "priority": "P2",
      "category": "安全测试",
      "description": "验证系统在用户长时间无操作后能否正确终止会话，防止会话劫持，确保符合安全策略中的超时控制要求。覆盖临界时间点（14、15、16分钟）以确认超时逻辑的精确性。"
    },
    {
      "id": "TC007",
      "title": "模拟服务中断后会话状态正确清理",
      "preconditions": [
        "用户已登录系统并持有有效会话",
        "系统部署在可监控的测试环境中",
        "具备自动化健康检查工具（如Prometheus + Health Check Endpoint）"
      ],
      "steps": [
        "用户登录系统并访问核心功能页面",
        "通过kill -9命令强制终止应用服务进程",
        "等待30秒后重启服务",
        "尝试使用原会话令牌访问受保护资源",
        "使用自动化健康检查工具监控服务恢复时间"
      ],
      "expected_results": [
        "服务中断后，用户无法继续访问系统",
        "服务恢复后，健康检查工具记录服务不可用时长不超过预设SLA（如30秒）",
        "原会话令牌失效，无法再用于访问资源",
        "用户需重新登录才能访问系统",
        "数据库中对应的会话记录已被清除或标记为失效"
      ],
      "priority": "P1",
      "category": "可靠性测试, 安全测试",
      "description": "验证系统在非正常中断（如断电、进程崩溃）后，能否正确清理用户会话状态，防止会话重用，并确保服务恢复后的一致性与安全性。"
    },
    {
      "id": "TC008",
      "title": "文件上传边界值测试",
      "preconditions": [
        "系统支持文件上传功能",
        "上传限制为10MB",
        "测试环境具备文件上传接口"
      ],
      "steps": [
        "尝试上传大小为9.9MB的文件",
        "尝试上传大小为10.0MB的文件",
        "尝试上传大小为10.1MB的文件",
        "尝试上传大小为0字节的空文件"
      ],
      "expected_results": [
        "9.9MB文件上传成功",
        "10.0MB文件上传成功（边界值接受）",
        "10.1MB文件被拒绝，系统提示‘文件大小超过限制’",
        "0字节文件根据业务规则被接受或拒绝，并有明确提示"
      ],
      "priority": "P2",
      "category": "功能测试, 边界测试",
      "description": "验证文件上传功能对边界值的处理能力，确保系统在极限条件下行为一致，避免因边界判断错误导致安全或功能问题。"
    },
    {
      "id": "TC009",
      "title": "核心功能在高负载下的可用性测试",
      "preconditions": [
        "系统部署在性能测试环境",
        "JMeter或等效工具已配置",
        "核心功能包括：用户登录、提交订单表单、查看个人资料"
      ],
      "steps": [
        "使用JMeter模拟500个并发用户登录系统",
        "在登录后，每用户提交一次订单表单",
        "每用户访问个人资料页一次",
        "监控系统响应时间、错误率和服务器资源使用情况"
      ],
      "expected_results": [
        "登录成功率 ≥ 99%",
        "表单提交响应时间 ≤ 2秒（P95）",
        "个人资料页加载成功率 ≥ 98%",
        "系统未出现500错误或连接池耗尽"
      ],
      "priority": "P1",
      "category": "性能测试",
      "description": "验证系统在高并发场景下核心功能（登录、表单提交、资料访问）的稳定性与性能表现，确保满足业务SLA要求。"
    },
    {
      "id": "TC010",
      "title": "数据库连接池压力测试",
      "preconditions": [
        "系统配置数据库连接池最大为50个连接",
        "具备监控数据库连接数的工具（如Prometheus + MySQL Exporter）",
        "性能测试工具已准备就绪"
      ],
      "steps": [
        "启动100个并发请求访问数据库密集型接口",
        "持续运行5分钟",
        "监控数据库连接池使用情况和请求等待时间"
      ],
      "expected_results": [
        "连接池最大使用数不超过50",
        "超出连接请求应被排队或快速失败，而非无限等待",
        "系统返回503或友好提示，不抛出数据库连接异常给前端",
        "连接池在压力结束后能正常回收资源"
      ],
      "priority": "P1",
      "category": "性能测试, 可靠性测试",
      "description": "验证数据库连接池在高并发下的行为是否符合配置，防止资源耗尽导致系统崩溃。"
    },
    {
      "id": "TC011",
      "title": "多因素认证（MFA）成功登录流程",
      "preconditions": [
        "系统启用MFA功能",
        "用户已绑定MFA设备（如Google Authenticator）",
        "用户账户处于激活状态"
      ],
      "steps": [
        "输入正确的用户名和密码",
        "提交后进入MFA验证页面",
        "输入当前有效的MFA动态验证码",
        "提交验证码"
      ],
      "expected_results": [
        "系统提示输入MFA验证码",
        "验证码验证通过后，成功跳转至首页",
        "会话令牌生成并绑定MFA状态",
        "登录日志记录MFA验证成功"
      ],
      "priority": "P0",
      "category": "安全测试, 功能测试",
      "description": "验证启用MFA的用户能否顺利完成双因素认证流程，确保认证安全性。"
    },
    {
      "id": "TC012",
      "title": "多因素认证（MFA）失败场景处理",
      "preconditions": [
        "系统启用MFA功能",
        "用户已绑定MFA设备"
      ],
      "steps": [
        "输入正确的用户名和密码",
        "进入MFA验证页面",
        "输入错误的MFA验证码",
        "重复输入错误验证码共5次"
      ],
      "expected_results": [
        "首次错误时，提示验证码无效，允许重新输入",
        "连续5次失败后，账户被临时锁定（如5分钟）",
        "锁定期间无法通过MFA登录",
        "系统记录失败尝试日志"
      ],
      "priority": "P1",
      "category": "安全测试, 异常测试",
      "description": "验证MFA机制在多次验证失败后的防护能力，防止暴力破解，确保账户安全。"
    },
    {
      "id": "TC013",
      "title": "登录接口超长输入处理",
      "preconditions": [
        "系统后端数据库用户名字段最大长度为64字符",
        "密码字段最大长度为128字符"
      ],
      "steps": [
        "尝试使用长度为65字符的用户名和正常密码登录",
        "尝试使用正常用户名和长度为129字符的密码登录",
        "尝试使用64字符用户名和128字符密码登录"
      ],
      "expected_results": [
        "65字符用户名被拒绝，提示‘用户名长度超出限制’",
        "129字符密码被拒绝，提示‘密码长度超出限制’",
        "64+128字符的组合被接受并正常验证（若密码哈希支持）"
      ],
      "priority": "P2",
      "category": "安全测试, 边界测试",
      "description": "验证登录接口对输入长度的边界处理，防止因超长输入导致数据库错误或潜在安全风险。"
    },
    {
      "id": "TC014",
      "title": "登录接口异常输入测试",
      "preconditions": [
        "系统具备登录接口"
      ],
      "steps": [
        "提交空用户名和空密码",
        "提交空用户名和有效密码",
        "提交有效用户名和空密码",
        "在用户名中输入SQL注入 payload（如' OR '1'='1）",
        "在密码中输入XSS payload（如<script>alert(1)</script>）"
      ],
      "expected_results": [
        "空输入被拒绝，提示‘请输入用户名和密码’",
        "SQL注入 payload 被过滤或转义，不触发异常查询",
        "XSS payload 不被执行，前端不渲染脚本",
        "所有异常输入均记录在安全日志中"
      ],
      "priority": "P1",
      "category": "安全测试, 异常测试",
      "description": "验证登录接口对各类异常和恶意输入的防御能力，防止注入攻击和前端脚本执行。"
    },
    {
      "id": "TC015",
      "title": "网络中断下的登录行为",
      "preconditions": [
        "用户在登录过程中可通过网络模拟工具（如Charles或Toxiproxy）控制连接"
      ],
      "steps": [
        "用户输入凭据并点击登录",
        "在请求发送至服务器途中，模拟网络中断（断开连接）",
        "等待30秒后恢复网络",
        "检查客户端状态"
      ],
      "expected_results": [
        "客户端显示网络错误或超时提示",
        "未显示登录成功",
        "未生成本地会话令牌",
        "用户需重新发起登录请求"
      ],
      "priority": "P2",
      "category": "可靠性测试, 异常测试",
      "description": "验证在登录请求中途网络中断时，系统不会产生部分成功状态，确保状态一致性。"
    },
    {
      "id": "TC016",
      "title": "服务器500错误下的登录处理",
      "preconditions": [
        "可通过Mock服务或故障注入工具模拟服务器500错误"
      ],
      "steps": [
        "用户提交正确登录凭据",
        "服务器故意返回HTTP 500错误",
        "观察客户端反馈"
      ],
      "expected_results": [
        "客户端不跳转至首页",
        "显示友好错误提示（如‘系统繁忙，请稍后重试’）",
        "不保存用户凭据或会话信息",
        "错误日志中记录500异常堆栈"
      ],
      "priority": "P2",
      "category": "可靠性测试, 用户体验测试",
      "description": "验证系统在服务器内部错误时的降级处理能力，避免暴露敏感信息或误导用户。"
    },
    {
      "id": "TC017",
      "title": "数据库连接失败时的登录处理",
      "preconditions": [
        "可通过关闭数据库或断开连接模拟故障"
      ],
      "steps": [
        "尝试使用正确凭据登录系统",
        "此时数据库服务不可用"
      ],
      "expected_results": [
        "登录请求失败",
        "系统返回‘服务暂时不可用’或类似提示",
        "不暴露数据库连接细节（如堆栈信息）",
        "系统具备重试机制或熔断策略"
      ],
      "priority": "P1",
      "category": "可靠性测试, 安全测试",
      "description": "验证系统在依赖服务（数据库）故障时的容错能力，确保用户得到合理反馈且系统稳定。"
    },
    {
      "id": "TC018",
      "title": "邮件发送失败时的注册/密码重置降级处理",
      "preconditions": [
        "系统具备注册或密码重置功能",
        "SMTP服务器被配置为拒绝发送邮件（模拟故障）"
      ],
      "steps": [
        "用户提交密码重置请求",
        "系统尝试发送邮件但SMTP失败",
        "观察系统行为和用户提示"
      ],
      "expected_results": [
        "系统记录邮件发送失败日志",
        "用户收到提示：‘邮件发送失败，请稍后重试或联系管理员’",
        "不显示SMTP详细错误",
        "系统具备重试队列或告警机制"
      ],
      "priority": "P2",
      "category": "可靠性测试, 安全测试",
      "description": "验证系统在邮件服务异常时的降级策略，确保用户体验和系统可观测性。"
    },
    {
      "id": "TC019",
      "title": "HTTPS通信加密验证",
      "preconditions": [
        "系统部署在支持TLS的环境中",
        "具备抓包工具（如Wireshark）并配置SSLKEYLOGFILE解密HTTPS流量"
      ],
      "steps": [
        "使用浏览器访问系统登录页面，启用SSLKEYLOGFILE",
        "捕获HTTPS流量",
        "在Wireshark中导入密钥日志并解析TLS流量",
        "检查加密协议版本和密码套件"
      ],
      "expected_results": [
        "所有通信均通过HTTPS加密",
        "TLS版本为1.2或更高",
        "使用的加密套件符合安全标准（如ECDHE-RSA-AES256-GCM-SHA384）",
        "无明文传输敏感信息"
      ],
      "priority": "P0",
      "category": "安全测试",
      "description": "验证系统通信层加密强度，确保数据传输安全，防止中间人攻击。"
    },
    {
      "id": "TC007",
      "title": "系统在断电恢复后5分钟内恢复正常服务并确保数据一致性",
      "preconditions": [
        "生产环境具备灾备机制",
        "系统当前运行正常",
        "数据库主从同步正常，日志监控工具已启用"
      ],
      "steps": [
        "通过物理电源切断方式模拟服务器断电（非kill进程）",
        "等待3分钟后恢复供电并启动服务器",
        "使用自动化健康检查工具（如Prometheus + Health Check API）持续监控服务状态",
        "检查应用日志确认服务启动完成时间",
        "验证最近一次用户会话是否被正确清理",
        "比对断电前后关键业务数据（如订单状态）是否一致"
      ],
      "expected_results": [
        "系统在5分钟内完成自启动并恢复服务",
        "数据库连接正常，主从同步无异常",
        "健康检查接口返回200状态且响应时间小于500ms",
        "用户会话在断电后被正确清理，无残留会话信息",
        "关键业务数据在断电前后保持一致，无数据丢失或重复"
      ],
      "priority": "P0",
      "category": "可靠性测试",
      "description": "验证系统在突发断电后能否快速恢复，并保证数据完整性和会话安全性，确保灾备机制有效。"
    },
    {
      "id": "TC008",
      "title": "文件上传功能支持边界值文件大小（10MB）",
      "preconditions": [
        "用户已登录系统",
        "文件上传接口可用",
        "系统配置最大上传文件大小为10MB"
      ],
      "steps": [
        "准备一个恰好为10MB的文件（如文本文件）",
        "通过前端界面或API上传该文件",
        "监控上传过程的响应时间和状态码"
      ],
      "expected_results": [
        "文件上传成功",
        "HTTP响应状态码为200或201",
        "服务器正确存储文件且文件内容完整",
        "系统未触发文件大小超限错误"
      ],
      "priority": "P1",
      "category": "功能测试",
      "description": "验证系统对文件上传大小限制的边界处理能力，确保恰好为上限值的文件可被正常处理。"
    },
    {
      "id": "TC009",
      "title": "核心功能操作定义与执行标准验证",
      "preconditions": [
        "用户已通过身份验证",
        "系统处于正常运行状态"
      ],
      "steps": [
        "执行登录操作（输入有效凭据）",
        "进入主界面后提交一个标准业务表单（如创建订单）",
        "执行一次数据导出操作",
        "查看个人通知中心内容"
      ],
      "expected_results": [
        "登录成功，跳转至主界面",
        "表单提交成功，返回确认信息且数据持久化到数据库",
        "数据导出文件生成成功，格式正确（如CSV）",
        "通知列表正确显示最近消息"
      ],
      "priority": "P1",
      "category": "功能测试",
      "description": "明确定义‘核心功能’的具体操作集合，确保所有测试人员执行一致的操作流程。"
    },
    {
      "id": "TC011",
      "title": "多因素认证（MFA）启用后登录流程验证",
      "preconditions": [
        "系统支持并已启用MFA功能",
        "测试用户已绑定MFA设备（如Google Authenticator）"
      ],
      "steps": [
        "输入正确的用户名和密码",
        "提交登录请求后进入MFA验证页面",
        "输入有效的MFA动态验证码（6位数字）",
        "提交验证码"
      ],
      "expected_results": [
        "成功进入MFA验证环节",
        "输入正确验证码后登录成功，跳转至主页",
        "系统记录MFA验证成功日志"
      ],
      "priority": "P0",
      "category": "安全测试",
      "description": "验证启用MFA后的正常登录流程是否按设计执行，确保双因素认证机制生效。"
    },
    {
      "id": "TC012",
      "title": "多因素认证（MFA）错误验证码处理",
      "preconditions": [
        "系统支持MFA",
        "测试用户已绑定MFA设备"
      ],
      "steps": [
        "输入正确的用户名和密码",
        "进入MFA验证页面",
        "输入错误的MFA验证码（如过期或错误数字）",
        "尝试提交3次错误验证码"
      ],
      "expected_results": [
        "首次错误时提示验证码无效，允许重新输入",
        "连续3次错误后账户被临时锁定或需重新开始登录流程",
        "系统记录失败尝试日志，触发安全告警（如配置）"
      ],
      "priority": "P1",
      "category": "安全测试",
      "description": "验证MFA在面对错误输入时的安全控制机制，防止暴力破解。"
    },
    {
      "id": "TC013",
      "title": "登录接口处理超长用户名和密码输入",
      "preconditions": [
        "系统数据库用户表字段定义明确（如username VARCHAR(255), password CHAR(60)）"
      ],
      "steps": [
        "使用API工具发送登录请求，用户名长度为255字符，密码为60字符",
        "发送用户名超过255字符的请求",
        "发送密码超过60字符的请求"
      ],
      "expected_results": [
        "255/60字符的合法超长输入被接受并正常验证（若凭据正确）",
        "超过字段限制的输入被拒绝，返回400错误",
        "系统返回明确错误信息，如‘用户名长度不能超过255字符’"
      ],
      "priority": "P2",
      "category": "安全测试",
      "description": "验证系统对输入长度极限的处理，防止潜在的缓冲区溢出或数据库截断问题。"
    },
    {
      "id": "TC014",
      "title": "登录接口处理空用户名或密码输入",
      "preconditions": [
        "系统登录接口开放"
      ],
      "steps": [
        "发送登录请求，用户名为空，密码为任意值",
        "发送登录请求，密码为空，用户名为任意有效值",
        "发送登录请求，用户名和密码均为空"
      ],
      "expected_results": [
        "所有空输入请求被拒绝",
        "返回400状态码及明确错误信息，如‘用户名不能为空’",
        "系统不暴露是否存在该用户的信息（防信息泄露）"
      ],
      "priority": "P1",
      "category": "安全测试",
      "description": "验证系统对空输入的防御能力，确保错误提示安全且不泄露用户信息。"
    },
    {
      "id": "TC015",
      "title": "登录接口防御SQL注入和XSS攻击输入",
      "preconditions": [
        "系统启用了输入校验和安全过滤机制"
      ],
      "steps": [
        "发送登录请求，用户名为' OR '1'='1' --",
        "发送登录请求，密码为<script>alert(1)</script>",
        "尝试使用常见SQL注入和XSS payload组合"
      ],
      "expected_results": [
        "所有恶意输入被拦截",
        "返回400或401状态码，不执行数据库查询或脚本渲染",
        "系统记录安全事件日志，触发WAF或IDS告警（如启用）"
      ],
      "priority": "P0",
      "category": "安全测试",
      "description": "验证系统对常见Web攻击的防护能力，确保输入过滤机制有效。"
    },
    {
      "id": "TC016",
      "title": "网络中断情况下登录行为验证",
      "preconditions": [
        "用户正在登录过程中",
        "网络环境可控（如使用网络模拟工具）"
      ],
      "steps": [
        "在输入凭据并点击登录后，立即切断客户端网络连接",
        "等待30秒后恢复网络",
        "检查客户端状态和服务器会话"
      ],
      "expected_results": [
        "客户端显示网络错误或超时提示",
        "服务器未创建不完整会话",
        "恢复网络后需重新登录，无自动恢复会话风险"
      ],
      "priority": "P1",
      "category": "可靠性测试",
      "description": "验证系统在网络不稳定场景下的健壮性，防止部分会话状态残留导致安全问题。"
    },
    {
      "id": "TC017",
      "title": "服务器500错误下登录流程的容错处理",
      "preconditions": [
        "可通过Mock或故障注入触发服务器500错误"
      ],
      "steps": [
        "发起登录请求，同时触发后端服务抛出500错误",
        "观察客户端反馈",
        "检查系统错误日志"
      ],
      "expected_results": [
        "客户端显示友好错误提示，如‘服务暂时不可用，请稍后重试’",
        "不暴露堆栈信息或敏感错误详情",
        "系统记录500错误日志，便于排查"
      ],
      "priority": "P1",
      "category": "可靠性测试",
      "description": "验证系统在内部错误时的降级处理和用户提示机制，提升用户体验和安全性。"
    },
    {
      "id": "TC018",
      "title": "数据库连接失败时登录系统的降级行为",
      "preconditions": [
        "可通过关闭数据库或断开连接模拟故障"
      ],
      "steps": [
        "尝试登录系统，同时数据库处于不可连接状态",
        "观察系统响应",
        "检查是否启用缓存或只读模式（如有）"
      ],
      "expected_results": [
        "登录失败，返回503或自定义服务不可用提示",
        "错误信息不包含数据库连接细节",
        "系统记录数据库连接失败日志，触发告警"
      ],
      "priority": "P0",
      "category": "可靠性测试",
      "description": "验证系统在依赖服务失效时的故障隔离和用户反馈机制。"
    },
    {
      "id": "TC019",
      "title": "邮件发送失败时密码重置功能的降级处理",
      "preconditions": [
        "系统配置了密码重置功能",
        "SMTP服务器可被模拟故障"
      ],
      "steps": [
        "发起密码重置请求",
        "模拟SMTP服务不可用（如关闭端口或认证失败）",
        "观察系统行为和用户提示"
      ],
      "expected_results": [
        "系统提示‘邮件发送失败，请稍后重试或联系管理员’",
        "不显示具体SMTP错误信息",
        "后台记录邮件发送失败日志，支持后续重试机制"
      ],
      "priority": "P1",
      "category": "可靠性测试",
      "description": "验证系统在外部依赖（邮件服务）失效时的容错能力，确保用户体验和系统健壮性。"
    },
    {
      "id": "TC020",
      "title": "使用抓包工具验证登录数据通过TLS 1.2+加密传输",
      "preconditions": [
        "系统配置强制使用TLS 1.2及以上版本",
        "抓包工具（如Wireshark）已安装并配置SSL解密密钥"
      ],
      "steps": [
        "配置Wireshark加载服务器私钥以解密HTTPS流量",
        "设置过滤规则：tls.handshake.version >= 0x0303",
        "发起登录请求并捕获流量",
        "检查TLS握手过程中的协议版本"
      ],
      "expected_results": [
        "TLS握手使用TLS 1.2或1.3协议",
        "登录请求中的用户名和密码在解密后可见，但在未解密视图中为加密内容",
        "未发现使用TLS 1.0或1.1等不安全版本"
      ],
      "priority": "P0",
      "category": "安全测试",
      "description": "验证系统通信层加密强度，确保敏感信息通过安全协议传输。"
    },
    {
      "id": "TC008",
      "title": "上传超过限制的文件应被拒绝",
      "preconditions": [
        "文件上传功能已启用",
        "系统最大上传限制为10MB"
      ],
      "steps": [
        "选择一个大小为15MB的文件进行上传",
        "提交上传请求"
      ],
      "expected_results": [
        "系统拒绝上传请求",
        "前端显示错误提示：'文件大小不能超过10MB'",
        "服务器未接收到完整文件数据"
      ],
      "priority": "P2",
      "category": "功能测试",
      "description": "验证系统在用户尝试上传超过大小限制的文件时能否正确拒绝并给出明确提示，防止资源滥用。"
    },
    {
      "id": "TC009",
      "title": "边界值测试：上传恰好为最大限制大小的文件应被接受",
      "preconditions": [
        "文件上传功能已启用",
        "系统最大上传限制为10MB"
      ],
      "steps": [
        "选择一个大小为10MB的文件进行上传",
        "提交上传请求"
      ],
      "expected_results": [
        "系统接受上传请求",
        "文件成功上传并存储到目标位置",
        "前端显示上传成功提示"
      ],
      "priority": "P1",
      "category": "功能测试",
      "description": "验证系统在上传文件大小等于最大限制时的正确处理行为，确保边界条件未被错误拦截。"
    },
    {
      "id": "TC011",
      "title": "多因素认证（MFA）成功验证流程测试",
      "preconditions": [
        "用户已启用MFA功能",
        "MFA设备（如手机APP或硬件令牌）已绑定账户",
        "登录界面支持MFA输入"
      ],
      "steps": [
        "输入正确的用户名和密码",
        "点击登录，进入MFA验证页面",
        "输入有效的MFA一次性验证码",
        "提交验证"
      ],
      "expected_results": [
        "系统验证MFA码正确",
        "用户成功登录系统",
        "会话状态正常建立"
      ],
      "priority": "P0",
      "category": "安全测试",
      "description": "验证MFA功能在正常场景下能正确验证用户身份并允许登录，保障账户安全。"
    },
    {
      "id": "TC012",
      "title": "多因素认证（MFA）失败场景测试",
      "preconditions": [
        "用户已启用MFA功能",
        "MFA设备已绑定账户"
      ],
      "steps": [
        "输入正确的用户名和密码",
        "点击登录，进入MFA验证页面",
        "输入一个错误的MFA一次性验证码",
        "提交验证"
      ],
      "expected_results": [
        "系统提示MFA验证失败",
        "登录被拒绝",
        "系统记录失败尝试次数",
        "连续失败多次后触发账户锁定或延迟机制"
      ],
      "priority": "P1",
      "category": "安全测试",
      "description": "验证系统在MFA验证失败时的安全响应机制，防止暴力破解。"
    },
    {
      "id": "TC013",
      "title": "登录接口超长用户名和密码输入处理测试",
      "preconditions": [
        "系统数据库用户名字段最大长度为255字符",
        "密码字段最大长度为128字符"
      ],
      "steps": [
        "在登录界面输入长度为255的用户名和128位的密码",
        "提交登录请求"
      ],
      "expected_results": [
        "系统正确接收并处理超长输入",
        "若凭据正确，用户成功登录",
        "若凭据错误，返回标准认证失败提示",
        "系统无崩溃或异常日志"
      ],
      "priority": "P2",
      "category": "安全测试",
      "description": "验证系统对输入长度极限的处理能力，防止因超长输入导致缓冲区溢出或数据库异常。"
    },
    {
      "id": "TC014",
      "title": "登录接口空用户名或空密码输入测试",
      "preconditions": [
        "登录功能可用"
      ],
      "steps": [
        "在登录界面留空用户名字段，输入有效密码",
        "提交登录请求",
        "清空密码字段，输入有效用户名",
        "再次提交登录请求"
      ],
      "expected_results": [
        "系统拒绝空用户名或空密码的登录请求",
        "前端显示明确错误提示：'用户名或密码不能为空'",
        "后端未执行认证逻辑，无认证尝试日志"
      ],
      "priority": "P1",
      "category": "功能测试",
      "description": "验证系统对空输入的校验机制，提升用户体验和安全性。"
    },
    {
      "id": "TC015",
      "title": "登录接口SQL注入尝试防御测试",
      "preconditions": [
        "登录功能启用"
      ],
      "steps": [
        "在用户名字段输入：' OR '1'='1",
        "在密码字段输入任意值",
        "提交登录请求"
      ],
      "expected_results": [
        "系统拒绝登录请求",
        "前端显示认证失败提示",
        "后端日志记录可疑输入行为",
        "系统未执行恶意SQL语句，数据库无异常查询"
      ],
      "priority": "P0",
      "category": "安全测试",
      "description": "验证系统对SQL注入攻击的防护能力，确保用户输入被正确过滤或参数化处理。"
    },
    {
      "id": "TC016",
      "title": "登录接口XSS攻击尝试防御测试",
      "preconditions": [
        "登录功能启用"
      ],
      "steps": [
        "在用户名字段输入：<script>alert('xss')</script>",
        "在密码字段输入任意值",
        "提交登录请求"
      ],
      "expected_results": [
        "系统拒绝登录请求或转义输入内容",
        "前端不执行脚本代码",
        "系统记录安全事件日志",
        "无XSS漏洞被触发"
      ],
      "priority": "P0",
      "category": "安全测试",
      "description": "验证系统对跨站脚本（XSS）攻击的防护能力，防止恶意脚本注入。"
    },
    {
      "id": "TC017",
      "title": "网络中断情况下登录行为测试",
      "preconditions": [
        "用户正在提交登录请求",
        "网络环境可控"
      ],
      "steps": [
        "输入正确用户名和密码",
        "在提交请求过程中模拟网络中断（如断开Wi-Fi或使用网络模拟工具）",
        "等待系统超时"
      ],
      "expected_results": [
        "前端显示网络错误或请求超时提示",
        "系统未创建用户会话",
        "无部分认证状态残留",
        "恢复网络后需重新登录"
      ],
      "priority": "P1",
      "category": "异常恢复测试",
      "description": "验证系统在网络中断时的健壮性，确保无状态不一致或安全漏洞。"
    },
    {
      "id": "TC018",
      "title": "服务器500错误下登录行为测试",
      "preconditions": [
        "后端服务可模拟500内部服务器错误"
      ],
      "steps": [
        "发起登录请求",
        "后端服务返回HTTP 500错误",
        "观察前端响应"
      ],
      "expected_results": [
        "前端显示友好错误提示：'系统暂时不可用，请稍后重试'",
        "不暴露堆栈信息或敏感错误详情",
        "系统记录错误日志用于排查"
      ],
      "priority": "P1",
      "category": "异常恢复测试",
      "description": "验证系统在服务器异常时的降级处理和用户提示机制，提升可用性。"
    },
    {
      "id": "TC019",
      "title": "数据库连接失败时登录行为测试",
      "preconditions": [
        "数据库服务可临时关闭"
      ],
      "steps": [
        "关闭数据库服务",
        "尝试使用有效凭据登录系统"
      ],
      "expected_results": [
        "系统无法验证用户凭据",
        "前端显示提示：'服务暂时不可用，请稍后重试'",
        "系统不创建会话",
        "错误被记录到应用日志中"
      ],
      "priority": "P1",
      "category": "异常恢复测试",
      "description": "验证系统在数据库故障下的容错能力，确保不会因依赖服务中断导致崩溃。"
    },
    {
      "id": "TC020",
      "title": "邮件发送失败时系统的降级处理测试",
      "preconditions": [
        "系统需发送验证邮件（如注册、密码重置）",
        "SMTP服务器可模拟异常"
      ],
      "steps": [
        "触发需要发送邮件的操作（如密码重置）",
        "模拟SMTP服务器连接失败",
        "观察系统行为"
      ],
      "expected_results": [
        "系统记录邮件发送失败日志",
        "前端提示用户：'邮件发送失败，请稍后重试或联系管理员'",
        "系统不阻塞主流程（如允许用户重新尝试发送）",
        "不创建不完整或错误的用户状态"
      ],
      "priority": "P1",
      "category": "异常恢复测试",
      "description": "验证系统在邮件服务不可用时的健壮性和用户体验保障机制。"
    },
    {
      "id": "TC021",
      "title": "会话超时临界时间点行为测试",
      "preconditions": [
        "系统会话超时时间为15分钟",
        "用户已登录"
      ],
      "steps": [
        "登录系统后，等待14分钟",
        "执行一次页面刷新或简单请求",
        "继续等待至第15分钟5秒",
        "尝试提交一个核心操作（如提交表单）"
      ],
      "expected_results": [
        "系统在15分钟时正确终止会话",
        "用户提交操作时被重定向至登录页",
        "原有会话数据被清除",
        "系统提示：'会话已过期，请重新登录'"
      ],
      "priority": "P1",
      "category": "功能测试",
      "description": "验证系统在会话超时临界点的正确行为，确保安全性和状态一致性。"
    },
    {
      "id": "TC009",
      "title": "系统在Chrome、Firefox和Safari浏览器中正常运行并保持功能一致性",
      "preconditions": [
        "Chrome、Firefox、Safari最新稳定版本已安装",
        "系统前端页面已部署并可访问",
        "测试账号具备登录权限"
      ],
      "steps": [
        "在Chrome浏览器中打开系统首页，输入有效用户名和密码进行登录，进入主界面后执行导航至‘用户管理’页面并提交一个测试表单",
        "在Firefox浏览器中重复相同操作：登录、导航至‘用户管理’、提交测试表单",
        "在Safari浏览器中重复相同操作：登录、导航至‘用户管理’、提交测试表单"
      ],
      "expected_results": [
        "所有浏览器中页面布局完整，无样式错乱或元素重叠",
        "登录操作成功，能正常跳转至主界面",
        "‘用户管理’页面可正常加载，表单可成功提交并提示‘提交成功’",
        "浏览器开发者工具中无JavaScript运行时错误或资源加载失败（404/500）"
      ],
      "priority": "P1",
      "category": "兼容性测试",
      "description": "验证系统在主流浏览器中的功能一致性和界面兼容性，确保用户在不同浏览器环境下均能正常使用核心功能"
    },
    {
      "id": "TC011",
      "title": "验证系统在数据库连接失败时的错误处理与用户提示",
      "preconditions": [
        "系统正常运行中",
        "数据库服务处于可控制状态（可通过脚本模拟断开）"
      ],
      "steps": [
        "启动系统并尝试使用有效凭据登录",
        "在登录过程中，通过脚本或手动方式断开数据库连接",
        "观察系统登录响应"
      ],
      "expected_results": [
        "系统在登录界面显示明确错误提示，如‘服务暂时不可用，请稍后重试’",
        "前端不暴露数据库错误堆栈信息",
        "系统后台记录数据库连接失败日志",
        "数据库恢复后，系统能自动重连并恢复正常服务"
      ],
      "priority": "P1",
      "category": "异常恢复测试",
      "description": "验证系统在数据库连接中断时的容错能力及用户友好的错误提示机制"
    },
    {
      "id": "TC012",
      "title": "验证系统在服务器返回500错误时的前端降级处理",
      "preconditions": [
        "系统部署完成并可访问",
        "具备拦截或模拟后端API返回500状态码的能力"
      ],
      "steps": [
        "使用浏览器访问系统首页",
        "通过代理工具（如Charles或Fiddler）拦截任意关键API请求，并强制返回HTTP 500错误",
        "观察前端行为"
      ],
      "expected_results": [
        "前端显示通用错误页面或弹出提示‘系统内部错误，请联系管理员’",
        "错误提示不包含敏感技术细节（如堆栈跟踪）",
        "前端尝试有限次数的自动重试（如有配置）或提供‘刷新重试’按钮",
        "错误事件被记录到前端监控日志中"
      ],
      "priority": "P1",
      "category": "异常恢复测试",
      "description": "评估系统在后端服务异常时的前端健壮性和用户体验"
    },
    {
      "id": "TC013",
      "title": "验证网络中断后用户会话状态的正确清理与恢复机制",
      "preconditions": [
        "用户已成功登录并处于活跃会话中",
        "系统支持会话持久化与超时管理"
      ],
      "steps": [
        "用户登录系统后，在操作过程中模拟网络中断（如禁用网卡或断开Wi-Fi）",
        "等待超过会话超时时间（如15分钟）",
        "恢复网络连接并尝试刷新页面或执行操作",
        "检查是否被重定向至登录页"
      ],
      "expected_results": [
        "网络恢复后，系统检测到会话失效或已过期",
        "用户被重定向至登录页面，无法继续执行原会话操作",
        "系统后台正确清理该用户的会话记录",
        "重新登录后可正常访问系统"
      ],
      "priority": "P1",
      "category": "异常恢复测试",
      "description": "验证系统在长时间网络中断后对用户会话的安全清理机制，防止会话劫持或状态不一致"
    },
    {
      "id": "TC014",
      "title": "多因素认证（MFA）正常流程验证",
      "preconditions": [
        "系统已启用MFA功能",
        "测试用户已绑定有效的MFA设备（如Google Authenticator）"
      ],
      "steps": [
        "使用有效用户名和密码登录系统",
        "在密码验证通过后，系统跳转至MFA输入页面",
        "输入当前有效的MFA动态验证码",
        "提交验证"
      ],
      "expected_results": [
        "系统正确跳转至MFA输入界面",
        "输入正确的MFA码后，成功进入系统主界面",
        "MFA验证成功后，系统创建新的会话",
        "MFA验证码仅一次有效，不可重复使用"
      ],
      "priority": "P0",
      "category": "安全测试",
      "description": "验证多因素认证的正常流程是否按设计执行，确保额外身份验证层有效"
    },
    {
      "id": "TC015",
      "title": "多因素认证（MFA）失败场景验证",
      "preconditions": [
        "系统已启用MFA功能",
        "测试用户已绑定MFA设备"
      ],
      "steps": [
        "使用正确用户名和密码登录系统",
        "进入MFA验证页面后，输入错误的MFA验证码",
        "点击提交",
        "重复输入错误验证码至第3次"
      ],
      "expected_results": [
        "首次错误时，系统提示‘验证码错误，请重试’，允许重新输入",
        "连续3次错误后，系统锁定MFA验证流程至少5分钟或要求通过备用方式验证",
        "账户不会因MFA错误而立即锁定，但需遵循安全策略",
        "系统记录MFA失败日志"
      ],
      "priority": "P1",
      "category": "安全测试",
      "description": "验证MFA在错误输入情况下的防暴力破解机制和安全策略执行"
    },
    {
      "id": "TC016",
      "title": "登录接口对超长用户名和密码的处理",
      "preconditions": [
        "系统数据库中用户表字段长度已知（如username VARCHAR(255), password CHAR(60)）"
      ],
      "steps": [
        "尝试使用长度为256字符的用户名和60字符的密码进行登录",
        "尝试使用长度为300字符的用户名和70字符的密码进行登录"
      ],
      "expected_results": [
        "系统拒绝超过字段长度的输入，前端或后端返回‘用户名或密码长度超出限制’提示",
        "超长输入不会导致系统异常或数据库错误",
        "系统不执行实际认证查询，避免资源浪费",
        "输入被正确截断或拒绝，且无安全漏洞（如缓冲区溢出）"
      ],
      "priority": "P2",
      "category": "安全测试",
      "description": "验证系统对极端输入长度的防御能力，防止潜在的安全风险或系统崩溃"
    },
    {
      "id": "TC017",
      "title": "登录接口对空用户名/密码及恶意输入的处理",
      "preconditions": [
        "系统登录接口开放"
      ],
      "steps": [
        "提交空用户名和空密码",
        "提交空用户名和有效密码",
        "提交有效用户名和空密码",
        "提交包含SQL注入payload的用户名（如' OR '1'='1）",
        "提交包含XSS payload的用户名（如<script>alert(1)</script>）"
      ],
      "expected_results": [
        "所有空输入场景均提示‘用户名和密码不能为空’",
        "SQL注入输入被拦截，系统不执行恶意查询，返回登录失败",
        "XSS payload被转义或拦截，前端不执行脚本，页面无弹窗",
        "所有非法输入均被记录为可疑登录尝试",
        "系统不返回技术性错误信息"
      ],
      "priority": "P0",
      "category": "安全测试",
      "description": "验证登录接口对异常和恶意输入的防护能力，确保系统安全性和输入验证完整性"
    },
    {
      "id": "TC018",
      "title": "文件上传功能的边界值测试（恰好为大小限制）",
      "preconditions": [
        "系统文件上传功能已启用，限制为10MB",
        "准备三个测试文件：9.9MB、10.0MB、10.1MB"
      ],
      "steps": [
        "上传9.9MB的文件",
        "上传10.0MB的文件",
        "上传10.1MB的文件"
      ],
      "expected_results": [
        "9.9MB和10.0MB文件均上传成功，并提示‘上传成功’",
        "10.1MB文件被拒绝，提示‘文件大小不能超过10MB’",
        "系统在客户端和服务端均进行大小校验",
        "上传成功后文件内容完整，可正常下载"
      ],
      "priority": "P1",
      "category": "功能测试",
      "description": "验证文件上传功能在边界值处的正确行为，确保容量限制逻辑准确"
    },
    {
      "id": "TC019",
      "title": "会话超时临界点行为验证（14分钟与15分钟操作）",
      "preconditions": [
        "系统会话超时设置为15分钟",
        "用户已成功登录"
      ],
      "steps": [
        "登录系统后，等待14分钟，执行任意操作（如点击页面按钮）",
        "观察是否仍可正常操作",
        "再次等待至第16分钟（累计16分钟无操作）",
        "尝试执行操作"
      ],
      "expected_results": [
        "在第14分钟执行操作时，会话保持有效，操作成功",
        "系统重置会话计时器",
        "在第16分钟尝试操作时，系统检测到会话已过期",
        "用户被自动重定向至登录页面"
      ],
      "priority": "P1",
      "category": "功能测试",
      "description": "验证会话超时机制在临界时间点的准确性，确保安全与用户体验平衡"
    },
    {
      "id": "TC020",
      "title": "邮件发送失败时系统的降级处理与用户提示",
      "preconditions": [
        "系统需触发邮件发送（如密码重置）",
        "SMTP服务器被配置为不可达或返回错误"
      ],
      "steps": [
        "用户请求密码重置",
        "系统尝试发送邮件，但SMTP服务异常",
        "观察系统响应"
      ],
      "expected_results": [
        "系统提示‘邮件发送失败，请稍后重试或联系管理员’",
        "前端不暴露SMTP错误细节",
        "系统后台记录邮件发送失败日志",
        "用户账户状态不变，未锁定或禁用",
        "系统支持后续重试机制或提供备用验证方式"
      ],
      "priority": "P1",
      "category": "异常恢复测试",
      "description": "验证系统在邮件服务不可用时的容错能力与用户沟通机制"
    },
    {
      "id": "TC010",
      "title": "数据库连接池在高峰期不耗尽",
      "preconditions": [
        "数据库连接池最大连接数配置为50个连接",
        "性能测试工具（如JMeter）已配置并准备就绪",
        "系统处于正常运行状态"
      ],
      "steps": [
        "使用负载测试工具模拟80个并发用户持续执行核心业务操作（如查询用户信息、提交订单）",
        "通过监控工具（如Prometheus或数据库自带监控）持续观察连接池的活跃连接数、空闲连接数和等待队列长度",
        "记录是否出现连接获取超时或拒绝连接异常"
      ],
      "expected_results": [
        "连接池活跃连接数未持续达到50上限",
        "系统能够有效复用连接或快速释放不再使用的连接",
        "无数据库连接超时、连接被拒绝或抛出'连接池耗尽'异常",
        "应用服务响应正常，未出现因数据库连接问题导致的500错误"
      ],
      "priority": "P0",
      "category": "性能测试",
      "description": "验证系统在高并发场景下数据库连接池的稳定性与资源管理能力，确保高峰期不会因连接耗尽导致服务不可用。"
    },
    {
      "id": "TC011",
      "title": "系统在数据库连接失败后能够正确恢复并保持数据一致性",
      "preconditions": [
        "系统正常运行，用户已登录并开始执行事务操作",
        "数据库服务可被临时中断",
        "自动化健康检查工具（如Kubernetes Liveness Probe或自定义心跳检测）已启用"
      ],
      "steps": [
        "在用户执行关键事务（如订单提交）过程中，通过kill进程方式模拟数据库连接中断",
        "等待30秒后恢复数据库服务",
        "监控系统自动重连机制是否触发，服务是否恢复正常",
        "检查事务是否完整提交或正确回滚，用户会话状态是否被安全清理"
      ],
      "expected_results": [
        "系统在数据库恢复后5秒内重新建立连接",
        "健康检查工具报告服务恢复正常",
        "未完成的事务未造成数据不一致或部分写入",
        "用户会话在超时后被正确销毁，不会残留未授权访问状态"
      ],
      "priority": "P0",
      "category": "异常恢复测试",
      "description": "验证系统在数据库连接异常中断后的恢复能力，确保数据一致性与会话安全。"
    },
    {
      "id": "TC012",
      "title": "多因素认证（MFA）功能正常工作并处理失败场景",
      "preconditions": [
        "用户账户已启用MFA（基于TOTP）",
        "用户已绑定有效的身份验证应用（如Google Authenticator）",
        "系统支持MFA登录流程"
      ],
      "steps": [
        "用户输入正确的用户名和密码",
        "输入正确的MFA动态验证码并提交",
        "再次登录，输入错误的MFA验证码",
        "连续输入错误MFA验证码超过5次"
      ],
      "expected_results": [
        "输入正确MFA验证码后成功登录系统",
        "登录页面提示'MFA验证码错误，请重试'",
        "连续失败5次后账户被临时锁定5分钟",
        "锁定期间无法通过任何方式登录该账户"
      ],
      "priority": "P0",
      "category": "安全测试",
      "description": "验证多因素认证功能的正确性和安全性，包括正常流程与异常失败场景的处理。"
    },
    {
      "id": "TC013",
      "title": "登录接口处理超长用户名和密码输入",
      "preconditions": [
        "数据库用户表中用户名字段最大长度为64字符，密码哈希字段为256字符",
        "系统前端未对输入长度做限制"
      ],
      "steps": [
        "尝试使用长度为64字符的用户名和长度为256字符的密码进行登录",
        "尝试使用长度为65字符的用户名进行登录",
        "尝试使用长度为257字符的密码进行登录"
      ],
      "expected_results": [
        "64字符用户名和256字符密码可正常提交并验证登录",
        "65字符用户名被前端或后端拦截，提示'用户名长度超出限制'",
        "257字符密码被系统拒绝，提示'密码长度超出允许范围'",
        "所有异常输入均不导致系统崩溃或返回500错误"
      ],
      "priority": "P1",
      "category": "边界测试, 安全测试",
      "description": "验证登录接口对输入长度极限的处理能力，防止因超长输入引发系统异常或安全漏洞。"
    },
    {
      "id": "TC014",
      "title": "登录接口处理空凭据、SQL注入和XSS攻击尝试",
      "preconditions": [
        "系统已部署并启用基础安全防护（如WAF、输入校验）"
      ],
      "steps": [
        "提交空用户名和空密码",
        "提交用户名为'admin'，密码为SQL注入payload：' OR '1'='1' --",
        "提交用户名为'<script>alert(1)</script>'，密码为正常值",
        "检查系统日志和响应内容"
      ],
      "expected_results": [
        "空凭据提交被拒绝，提示'用户名或密码不能为空'",
        "SQL注入payload被拦截，登录失败，日志记录安全事件",
        "XSS payload被转义或拦截，页面未执行脚本，提示无效用户名",
        "系统返回401状态码，不泄露任何内部信息"
      ],
      "priority": "P0",
      "category": "安全测试",
      "description": "验证登录接口对常见攻击向量的防御能力，确保系统具备基本的安全输入校验机制。"
    },
    {
      "id": "TC015",
      "title": "网络中断、服务器500错误、数据库连接失败时的登录行为验证",
      "preconditions": [
        "系统部署在具备网络控制能力的环境中",
        "可模拟服务器500错误和数据库断开"
      ],
      "steps": [
        "在用户提交登录请求时，主动断开应用服务器与数据库的网络连接",
        "在登录过程中，手动使应用服务器返回500错误",
        "模拟客户端网络中断（如断网）后重试登录",
        "观察用户界面提示信息和系统日志"
      ],
      "expected_results": [
        "数据库连接失败时，系统返回'系统繁忙，请稍后重试'而非暴露数据库细节",
        "服务器500错误时，前端显示友好错误页面，不显示堆栈信息",
        "网络中断后恢复，用户可重新提交登录请求",
        "所有错误场景下均不保存明文密码或敏感信息在日志中"
      ],
      "priority": "P1",
      "category": "异常恢复测试, 安全测试",
      "description": "验证系统在各类系统级故障下的健壮性与用户提示的合理性，防止信息泄露。"
    },
    {
      "id": "TC016",
      "title": "邮件发送失败时系统的降级处理机制和用户提示",
      "preconditions": [
        "系统需发送邮件的场景（如密码重置）已触发",
        "SMTP服务器被临时关闭或配置错误"
      ],
      "steps": [
        "用户请求密码重置",
        "系统尝试发送邮件时，SMTP服务不可用",
        "检查系统行为：是否记录错误日志、是否重试、是否给用户反馈",
        "恢复SMTP服务后观察是否补发或需用户重新请求"
      ],
      "expected_results": [
        "系统未崩溃，返回用户提示'邮件发送失败，请稍后重试或联系管理员'",
        "错误被记录到日志系统，包含时间、用户ID和错误类型",
        "系统具备最多3次重试机制，间隔30秒",
        "用户无法通过未收到邮件而绕过安全验证"
      ],
      "priority": "P1",
      "category": "异常恢复测试",
      "description": "验证系统在依赖外部服务（邮件）失败时的容错能力与用户体验保障。"
    },
    {
      "id": "TC017",
      "title": "文件上传功能的边界值测试（恰好为10MB）",
      "preconditions": [
        "系统文件上传限制为10MB",
        "准备两个测试文件：一个恰好10MB，一个10.1MB"
      ],
      "steps": [
        "上传大小为10MB的文件",
        "上传大小为10.1MB的文件",
        "检查系统响应和文件存储情况"
      ],
      "expected_results": [
        "10MB文件上传成功，系统显示上传完成并可访问",
        "10.1MB文件被拒绝，提示'文件大小不能超过10MB'",
        "系统在服务端校验文件大小，而非仅依赖前端限制",
        "上传过程中内存使用正常，无OOM风险"
      ],
      "priority": "P1",
      "category": "边界测试, 功能测试",
      "description": "验证文件上传功能对边界值的正确处理，确保系统在临界条件下行为一致。"
    },
    {
      "id": "TC018",
      "title": "会话超时测试覆盖临界时间点（14分钟、15分钟）",
      "preconditions": [
        "系统会话超时时间为15分钟",
        "用户已成功登录"
      ],
      "steps": [
        "用户登录后等待14分钟，执行任意操作（如刷新页面）",
        "继续等待至第15分10秒，再次尝试操作",
        "检查会话状态和系统响应"
      ],
      "expected_results": [
        "14分钟时操作成功，会话保持有效",
        "15分10秒时系统检测到会话过期，跳转至登录页",
        "用户需重新登录才能继续操作",
        "服务器端会话对象已被清除，不会继续占用资源"
      ],
      "priority": "P1",
      "category": "功能测试, 安全测试",
      "description": "验证会话超时机制在临界时间点的准确性，防止会话过期不及时带来的安全风险。"
    }
  ]
}